import{u as O,Q as b,aj as y,C as j,c,r as k,o as a,f as r,b as e,t as m,i as I,d as t,g as l,aD as z,e as f,w as C,F as B}from"./vendor.a957619b.js";import{_ as F}from"./OrganizationForm.9016b60c.js";import"./TextInput.d590e7a2.js";import"./camelCase.89cf477c.js";import"./SubmitButton.4a79793c.js";const N={key:0,class:"bg-white shadow-md sm:rounded-md"},S={class:"max-w-screen-xl px-4 py-6 mx-auto sm:px-6"},V={class:"text-3xl font-bold leading-tight text-gray-900"},$={class:"max-w-sm sm:max-w-lg mt-8"},T={key:0,class:"shadow-md mt-4 rounded-md flex items-center bg-red-50 border-l-4 border-red-400 p-4"},D={class:"flex"},E={class:"flex-shrink-0"},Q={class:"ml-3"},R=f(" Find their contact information here. "),q={key:1,class:"bg-white rounded-md shadow-md p-6"},M={setup(A){const s=O(),u=b(),g=y(),{t:p}=j(),h=c(()=>s.state.nav.currentOrgId),n=c(()=>s.getters["jv/get"]({_jv:{type:"Organization",id:h.value}})),_=c(()=>s.getters["nav/isOwner"]),v=async({name:o,description:x})=>{let d={_jv:{type:"Organization",id:u.params.orgId},name:o,description:x};try{await s.dispatch("jv/patch",[d,{url:`organizations/${u.params.orgId}/`}]),g.success(p("org.updateSuccess"))}catch{g.error(p("org.updateError"))}};return(o,x)=>{var i,w;const d=k("router-link");return a(),r(B,null,[o.$route.meta.title?(a(),r("header",N,[e("div",S,[e("h1",V,m(o.$t("org.edit")),1)])])):I("",!0),e("div",$,[t(_)?(a(),r("div",q,[l(F,{"allow-edit":t(_),"org-name":(i=t(n))==null?void 0:i.name,"org-description":(w=t(n))==null?void 0:w.description,"button-text":"update","on-submit":v},null,8,["allow-edit","org-name","org-description"])])):(a(),r("div",T,[e("div",D,[e("div",E,[l(t(z),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),e("div",Q,[f(" Only the Owner of an organization can change the name and/or description. Contact the Owner of "+m(t(n).name)+". "+m(" ")+" ",1),l(d,{to:{name:"org-management-detail",params:{orgId:t(h)}},class:"font-medium underline text-red-700 hover:text-red-600"},{default:C(()=>[R]),_:1},8,["to"])])])]))])],64)}}};export{M as default};
