import{q as V,ah as $,s as j,R as S,D as U,v as b,G as l,o as h,c as _,a as e,t as a,u as D,g as I,ai as n,aj as d,b as f,F as N}from"./vendor.2f240eb0.js";const T={key:0,class:"bg-white shadow-md sm:rounded-md"},z={class:"max-w-screen-xl px-4 py-6 mx-auto sm:px-6 lg:px-8"},B={class:"text-3xl font-bold leading-tight text-gray-900"},q={class:"max-w-sm sm:max-w-lg"},C={class:"text-black m-2 p-4 card ring-1 ring-gray-300 bg-white"},E={class:"form-control"},F={class:"label"},M={class:"label-text text-black font-bold"},O={class:"form-control py-4"},G={class:"label"},H={class:"label-text text-black font-bold"},A={class:"form-control"},J={class:"label"},K={class:"label-text text-black font-bold"},L=e("sup",null,"2",-1),P=f("] "),Q={class:"form-control"},W={class:"label"},X={class:"label-text text-black font-bold"},Y={class:"form-control"},Z={class:"label"},ee={class:"label-text text-black font-bold"},se={setup(te){const v=V(),x=$(),g=j(),y=S(),w=U(),p=b(()=>g.params.siteId),R=b(()=>v.getters["jv/get"]({_jv:{type:"Site",id:p.value}})),i=l(void 0),r=l(void 0),c=l(void 0),u=l(void 0),m=l(void 0),k=async()=>{if(i.value){let t={_jv:{type:"Room",relationships:{site:{data:{type:"Site",id:p.value}}}},name:i.value};r.value&&(t.description=r.value),c.value&&(t.size_sqm=c.value),u.value&&(t.height_m=u.value),m.value&&(t.max_occupancy=m.value);try{const{_jv:o}=await v.dispatch("jv/post",[t,{url:"rooms/"}]);y.push({name:"site",params:{siteId:p.value}})}catch{x.error(w("room.createError"))}}};return(t,o)=>(h(),_(N,null,[t.$route.meta.title?(h(),_("header",T,[e("div",z,[e("h1",B,a(t.$t("room.addRoomToSite"))+" "+a(D(R).name),1)])])):I("",!0),e("div",q,[e("div",C,[e("div",E,[e("label",F,[e("span",M,a(t.$t("room.name")),1)]),n(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>i.value=s),class:"input-bordered como-focus rounded bg-white text-gray-600"},null,512),[[d,i.value,void 0,{trim:!0}]])]),e("div",O,[e("label",G,[e("span",H,a(t.$t("description")),1)]),n(e("textarea",{type:"text","onUpdate:modelValue":o[1]||(o[1]=s=>r.value=s),placeholder:"(optional)",class:"como-focus rounded h-24 text-gray-600"},null,512),[[d,r.value,void 0,{trim:!0}]])]),e("div",A,[e("label",J,[e("span",K,[f(a(t.$t("room.size"))+" [m",1),L,P])]),n(e("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=s=>c.value=s),placeholder:"(optional)",class:"input-bordered como-focus rounded bg-white text-gray-600"},null,512),[[d,c.value,void 0,{trim:!0}]])]),e("div",Q,[e("label",W,[e("span",X,a(t.$t("room.height"))+" [m] ",1)]),n(e("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=s=>u.value=s),placeholder:"(optional)",class:"input-bordered como-focus rounded bg-white text-gray-600"},null,512),[[d,u.value,void 0,{trim:!0}]])]),e("div",Y,[e("label",Z,[e("span",ee,a(t.$t("room.maxOccupancy")),1)]),n(e("input",{type:"text","onUpdate:modelValue":o[4]||(o[4]=s=>m.value=s),placeholder:"(optional)",class:"input-bordered como-focus rounded bg-white text-gray-600"},null,512),[[d,m.value,void 0,{trim:!0}]])]),e("button",{class:"mt-2 btn gray-button font-semibold",onClick:k},a(t.$t("room.add")),1)])])],64))}};export{se as default};
