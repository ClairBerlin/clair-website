import{q as C,Q as I,aj as V,C as $,s as m,E as f,r as z,o as l,c as i,a as e,t as s,g as N,u as o,d as x,ao as B,b,w as D,am as w,an as y,F as E}from"./vendor.ef2875e8.js";const F={key:0,class:"bg-white shadow-md sm:rounded-md"},S={class:"max-w-screen-xl px-4 py-6 mx-auto sm:px-6 lg:px-8"},T={class:"text-3xl font-bold leading-tight text-gray-900"},U={class:"max-w-sm sm:max-w-lg mt-8"},q={key:0,class:"shadow-md mt-4 rounded-md flex items-center bg-red-50 border-l-4 border-red-400 p-4"},M={class:"flex"},Q={class:"flex-shrink-0"},R={class:"ml-3"},A=b(" Find their contact information here. "),G={key:1,class:"text-black p-4 card rounded-md ring-1 ring-gray-300 bg-white"},H={class:"form-control"},J={class:"label"},K={class:"label-text text-black font-bold"},L=["placeholder"],P={class:"form-control py-4"},W={class:"label"},X={class:"label-text text-black font-bold"},Y=["placeholder"],te={setup(Z){const d=C(),p=I(),h=V(),{t:g}=$(),_=m(()=>d.state.nav.currentOrgId),c=m(()=>d.getters["jv/get"]({_jv:{type:"Organization",id:_.value}})),O=m(()=>d.getters["nav/isOwner"]),a=f(void 0),n=f(void 0),k=async()=>{if(a.value||n.value){let t={_jv:{type:"Organization",id:p.params.orgId}};a.value&&(t.name=a.value),n.value&&(t.description=n.value);try{await d.dispatch("jv/patch",[t,{url:`organizations/${p.params.orgId}/`}]),h.success(g("org.updateSuccess"))}catch{h.error(g("org.updateError"))}}};return(t,r)=>{var v;const j=z("router-link");return l(),i(E,null,[t.$route.meta.title?(l(),i("header",F,[e("div",S,[e("h1",T,s(t.$t("org.edit")),1)])])):N("",!0),e("div",U,[o(O)?(l(),i("div",G,[e("div",H,[e("label",J,[e("span",K,s(t.$t("org.name")),1)]),w(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=u=>a.value=u),placeholder:o(c).name,class:"input-bordered como-focus rounded-md bg-white text-gray-600"},null,8,L),[[y,a.value,void 0,{trim:!0}]])]),e("div",P,[e("label",W,[e("span",X,s(t.$t("description")),1)]),w(e("textarea",{type:"text","onUpdate:modelValue":r[1]||(r[1]=u=>n.value=u),placeholder:((v=o(c))==null?void 0:v.description)||"(optional)",class:"como-focus area rounded-md h-24 text-gray-600"},null,8,Y),[[y,n.value,void 0,{trim:!0}]])]),e("button",{class:"mt-2 btn gray-button font-semibold",onClick:k},s(t.$t("update")),1)])):(l(),i("div",q,[e("div",M,[e("div",Q,[x(o(B),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),e("div",R,[b(" Only the Owner of an organization can change the name and/or description. Contact the Owner of "+s(o(c).name)+". "+s(" ")+" ",1),x(j,{to:{name:"org-management-detail",params:{orgId:o(_)}},class:"font-medium underline text-red-700 hover:text-red-600"},{default:D(()=>[A]),_:1},8,["to"])])])]))])],64)}}};export{te as default};
