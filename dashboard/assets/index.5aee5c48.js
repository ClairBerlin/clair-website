import{o as m,c as f,a as t,u as n,b as O,r as E,d as l,w as v,P as oe,n as $,e as S,f as R,g as A,t as _,h as ne,i as ae,T as H,j as re,k as ie,F as N,l as T,m as le,p as de,q as D,s as L,v as x,x as U,y as ce,z as ue,A as me,B as ge,C as pe,D as q,E as j,G as C,H as he,L as fe,I as _e,J as ve,K as be,M as ye,N as xe,O as we,Q as $e,R as G,S as P,U as K,V as Oe,W as Se,X as Ie,Y as M,Z as Ee,_ as Ae,$ as ke,a0 as Re,a1 as Ne,a2 as Te,a3 as De,a4 as ze,a5 as Le,a6 as Ce,a7 as je,a8 as k,a9 as Pe,aa as Me,ab as Ve,ac as Fe,ad as Be,ae as He,af as Ue}from"./vendor.eafa4657.js";const qe=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}};qe();var Ge="/dashboard/assets/logo.c9cc220c.svg";const Ke={class:"flex items-center flex-shrink-0 px-4 py-0.5 mb-4"},We=["src"],Ze=t("div",{class:"text-xl text-black font-bold"},[O(" CO"),t("sub",null,"2"),O(),t("br"),O("Monitoring ")],-1),W={setup(e){return(o,r)=>(m(),f("div",Ke,[t("img",{class:"h-12 w-auto px-4",src:n(Ge),alt:"COMo logo"},null,8,We),Ze]))}},Xe={class:"w-full"},Ye={class:"flex items-center"},Je={class:"text-left"},Qe={class:"shadow-lg rounded-lg ring-1 ring-gray-300"},et={class:"relative bg-white text-xs rounded-lg"},tt={class:"flex items-center pl-4 pr-2 py-2 justify-between"},st={class:"font-semibold text-gray-500"},ot={class:"flex"},nt={key:2,class:"w-6"},at={class:"font-medium text-gray-900 whitespace-nowrap"},Z={props:{icon:{type:Function,default:void 0},title:{type:String,required:!0},contextTitle:{type:String,default:""},popOverAbove:{type:Boolean,default:!1},options:{type:Array,required:!0}},setup(e){const o=()=>"text-gray-500 group-hover:text-gray-600 mr-2 flex-shrink-0 h-4 w-4";return(r,c)=>{const s=E("router-link");return m(),f("div",Xe,[l(n(de),{class:"relative"},{default:v(({open:i})=>[l(n(oe),{class:$([i?"":"text-opacity-90","w-full inline-flex items-center px-2 py-4 text-sm font-medium text-black bg-orange-700 rounded-md group hover:text-opacity-100 hover:bg-gray-100 como-focus justify-between"])},{default:v(()=>[t("div",Ye,[e.icon?(m(),S(R(e.icon),{key:0,class:$(["text-gray-500 group-hover:text-gray-600","mr-3 flex-shrink-0 h-6 w-6"]),"aria-hidden":"true"})):A("",!0),t("span",Je,_(e.title),1)]),(m(),S(R(e.popOverAbove?n(ne):n(ae)),{class:$([i?"":"text-opacity-70","w-5 h-5 ml-2 transition duration-150 ease-in-out group-hover:text-opacity-80"]),"aria-hidden":"true"},null,8,["class"]))]),_:2},1032,["class"]),l(H,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[l(n(re),{class:$([e.popOverAbove?"top-[-9rem]":"top-16","w-full absolute z-10"])},{default:v(({close:a})=>[t("div",Qe,[t("div",et,[t("div",tt,[t("div",st,_(r.$t(e.contextTitle)),1),l(n(ie),{class:"h-4 w-4 text-gray-600 cursor-pointer",onClick:a},null,8,["onClick"])]),(m(!0),f(N,null,T(e.options,d=>(m(),S(s,{key:d.name,to:{name:d.route,params:d.params},onClick:a,class:"flex items-center px-4 py-2 transition duration-150 ease-in-out hover:bg-gray-100 como-focus border-t border-gray-200 cursor-pointer last:rounded-b-md"},{default:v(()=>[t("div",ot,[d.selected?(m(),S(n(le),{key:0,class:$(o())},null,8,["class"])):d.icon?(m(),S(R(d.icon),{key:1,class:$(o()),"aria-hidden":"true"},null,8,["class"])):(m(),f("div",nt)),t("p",at,_((d==null?void 0:d.icon)?r.$t(d.name):d.name),1)])]),_:2},1032,["to","onClick"]))),128))])])]),_:1},8,["class"])]),_:1})]),_:1})])}}},X={setup(e){const o=D(),r=L(),c=x(()=>r.params.orgId),s=x(()=>typeof c.value=="string"),i=x(()=>s.value?o.getters["authuser/getMembershipByOrgId"](c.value):void 0),a=x(()=>{var g;const h=(g=i.value)==null?void 0:g.orgName;return h||"\u2014\u2014\u2014"}),d=x(()=>o.getters["authuser/getMemberships"].map(g=>{var I;return{selected:g.orgId===((I=i.value)==null?void 0:I.orgId),name:g.orgName,route:"overview",params:{orgId:g.orgId}}})),y=[{icon:U,name:"org.manage",route:"org-management",params:{}},{icon:ce,name:"org.create",route:"org-management-add",params:{}}],u=x(()=>[...d.value,...y]),p=U;return(h,g)=>(m(),S(Z,{"context-title":"org.switch",title:n(a),icon:n(p),options:n(u)},null,8,["title","icon","options"]))}},Y={setup(e){const o=D(),r=x(()=>{const{firstName:i,lastName:a}=o.state.authuser;return i&&a?i+" "+a:"\u2026"}),c=ue,s=[{icon:me,name:"user.change-email",route:"change-email",params:{}},{icon:ge,name:"user.change-password",route:"change-password",params:{}},{icon:pe,name:"user.logout",route:"logout",params:{}}];return(i,a)=>(m(),S(Z,{"context-title":"user.settings",title:n(r),options:s,icon:n(c),"pop-over-above":""},null,8,["title","icon"]))}},rt={class:"relative"},it={class:"w-full inline-flex truncate font-medium text-gray-700"},lt={class:"truncate"},dt={class:"ml-3 truncate"},ct={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},ut={class:"flex"},J={setup(e){const o="preferredlanguage",r=[{id:1,name:"Deutsch - DE",short:"\u{1F1E9}\u{1F1EA}",locale:"de",unavailable:!1},{id:2,name:"English - EN",short:"\u{1F1EC}\u{1F1E7}",locale:"en",unavailable:!1},{id:3,name:"T\xFCrk\xE7e - TR",short:"\u{1F1F9}\u{1F1F7}",locale:"tr",unavailable:!0}],{locale:c}=q({useScope:"global"}),s=d=>{j.set(o,d),c.value=d,$e.locale(d)},i=r.find(d=>d.locale===j.get(o))||r[0],a=C(i);return he(()=>s(a.value.locale)),(d,y)=>(m(),S(n(we),{as:"div",modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=u=>a.value=u)},{default:v(()=>[l(n(fe),{class:"block text-sm font-medium text-gray-700"}),t("div",rt,[l(n(ve),{class:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},{default:v(()=>[t("span",it,[t("span",lt,_(a.value.short),1),t("span",dt,_(a.value.name),1)]),t("span",ct,[l(n(_e),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),l(H,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[l(n(be),{class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},{default:v(()=>[(m(),f(N,null,T(r,u=>l(n(ye),{as:"template",key:u.id,value:u,disabled:u.unavailable},{default:v(({active:p,selected:h})=>[t("li",{class:$([p?"text-white bg-indigo-500 font-medium":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9"])},[t("div",ut,[t("span",{class:$([h?"font-semibold":"font-normal","truncate"])},_(u.short),3),t("span",{class:$([p?"text-white":u.unavailable?"text-gray-400":"text-gray-700","ml-2 truncate"])},_(u.name),3)]),h?(m(),f("span",{key:0,class:$([p?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[l(n(xe),{class:"h-5 w-5","aria-hidden":"true"})],2)):A("",!0)],2)]),_:2},1032,["value","disabled"])),64))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}},mt={class:"h-screen flex overflow-hidden bg-gray-100"},gt={class:"relative flex-1 flex flex-col max-w-xs w-full bg-white"},pt={class:"absolute top-0 right-0 -mr-12 pt-2"},ht=t("span",{class:"sr-only"},"Close sidebar",-1),ft={class:"flex-1 h-0 pt-5 pb-4 overflow-y-auto"},_t=t("div",{class:"w-full px-3 border-b border-gray-200"},null,-1),vt={class:"mt-1 flex-1 px-2 space-y-1"},bt=t("div",{class:"w-full px-3 my-1 border-b border-gray-200"},null,-1),yt={key:0},xt=t("div",{class:"w-full px-3 my-1 border-b border-gray-200"},null,-1),wt=t("div",{class:"flex-shrink-0 w-14"},null,-1),$t={class:"hidden lg:flex lg:flex-shrink-0"},Ot={class:"flex flex-col w-64"},St={class:"flex-1 flex flex-col min-h-0 border-r border-gray-200 shadow-md bg-white"},It={class:"flex-1 flex mx-2 px-1 flex-col pt-6 pb-1 overflow-y-auto"},Et=t("div",{class:"w-full px-3 border-b border-gray-200"},null,-1),At={class:"mt-1 flex-1 bg-white space-y-1"},kt=t("div",{class:"w-full px-3 my-1 border-b border-gray-200"},null,-1),Rt={key:0},Nt=t("div",{class:"w-full px-3 my-1 border-b border-gray-200"},null,-1),Tt={class:"flex flex-col w-0 flex-1 overflow-hidden"},Dt={class:"lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3"},zt=t("span",{class:"sr-only"},"Open sidebar",-1),Lt={class:"flex-1 relative z-0 overflow-y-auto focus:outline-none"},Ct={key:0,class:"max-w-screen-xl sm:py-6 mx-auto sm:px-6 rounded-md"},jt={setup(e){const o=D(),r=L(),c=G(),s=[{name:"overview",routeName:"overview",icon:ke},{name:"team",routeName:"org-management-detail",icon:Re},{name:"sites",routeName:"sites",icon:Ne},{name:"rooms",routeName:"rooms",icon:Te},{name:"nodes",routeName:"sensors",icon:De}],i=p=>r.name===p,a=C(!1),d=x(()=>r.params.orgId),y=x(()=>o.getters["authuser/isLoading"]),u=x(()=>typeof d.value=="string");return P(async()=>{await o.dispatch("authuser/fetchAuthenticatedUser")}),K(()=>r.params.orgId,async p=>{u.value?(console.log(`Organization changed to orgId ${p}. Fetching related data...`),o.dispatch("jv/get",`organizations/${p}`),c.push({name:"",params:{orgId:p}})):console.log("Entering a route outside of an organization context.")}),(p,h)=>{const g=E("router-link"),I=E("router-view");return m(),f("div",mt,[l(n(Oe),{as:"template",show:a.value},{default:v(()=>[l(n(Ie),{as:"div",class:"fixed inset-0 flex z-40 lg:hidden",onClose:h[1]||(h[1]=b=>a.value=!1)},{default:v(()=>[l(n(M),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>[l(n(Ee),{class:"fixed inset-0 bg-gray-600 bg-opacity-75"})]),_:1}),l(n(M),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:v(()=>[t("div",gt,[l(n(M),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>[t("div",pt,[t("button",{type:"button",class:"ml-1 flex items-center justify-center h-10 w-10 rounded-full como-focus",onClick:h[0]||(h[0]=b=>a.value=!1)},[ht,l(n(Ae),{class:"h-6 w-6 text-white","aria-hidden":"true"})])])]),_:1}),t("div",ft,[l(W),_t,t("nav",vt,[l(X),l(J,{class:"py-1"}),bt,n(u)?(m(),f("div",yt,[(m(),f(N,null,T(s,b=>l(g,{key:b.name,to:{name:b.routeName,params:{orgId:n(d)}},class:$([i(b.routeName)?"bg-indigo-50 text-indigo-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md como-focus"])},{default:v(()=>[(m(),S(R(b.icon),{class:$([i(b.routeName)?"text-indigo-900":"text-gray-500 group-hover:text-gray-600","mr-4 flex-shrink-0 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),O(" "+_(p.$t(b.name)),1)]),_:2},1032,["to","class"])),64))])):A("",!0),xt,l(Y)])])])]),_:1}),wt]),_:1})]),_:1},8,["show"]),t("div",$t,[t("div",Ot,[t("div",St,[t("div",It,[l(W),Et,t("nav",At,[l(X),l(J,{class:"py-1"}),kt,n(u)?(m(),f("div",Rt,[(m(),f(N,null,T(s,b=>l(g,{key:b.name,to:{name:b.routeName,params:{orgId:n(d)}},class:$([i(b.routeName)?"bg-indigo-50 text-indigo-900 font-bold":"text-gray-700 hover:bg-gray-100 hover:text-gray-900","group flex items-center my-1 px-2 py-4 text-sm font-medium rounded-md como-focus"])},{default:v(()=>[(m(),S(R(b.icon),{class:$([i(b.routeName)?"text-indigo-900":"text-gray-500 group-hover:text-gray-600","mr-3 flex-shrink-0 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),O(" "+_(p.$t(b.name)),1)]),_:2},1032,["to","class"])),64))])):A("",!0)]),Nt,l(Y,{class:"w-full"})])])])]),t("div",Tt,[t("div",Dt,[t("button",{type:"button",class:"-ml-0.5 -mt-0.5 mb-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 como-focus",onClick:h[2]||(h[2]=b=>a.value=!0)},[zt,l(n(Se),{class:"h-6 w-6","aria-hidden":"true"})])]),t("main",Lt,[n(y)?A("",!0):(m(),f("div",Ct,[l(I)]))])])])}}},Pt="modulepreload",Q={},Mt="/dashboard/",w=function(o,r){return!r||r.length===0?o():Promise.all(r.map(c=>{if(c=`${Mt}${c}`,c in Q)return;Q[c]=!0;const s=c.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${i}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":Pt,s||(a.as="script",a.crossOrigin=""),a.href=c,document.head.appendChild(a),s)return new Promise((d,y)=>{a.addEventListener("load",d),a.addEventListener("error",y)})})).then(()=>o())},Vt={class:"flex justify-between font-bold"},Ft={class:"flex flex-col text-black"},Bt=["data-tip"],Ht={class:"mt-6 flex justify-between"},Ut={class:"flex flex-col"},qt={class:"text-gray-900 text-lg font-bold"},Gt=t("sub",null,"2",-1),Kt={class:"text-right mt-2"},Wt={class:"text-5xl font-black tracking-tight"},Zt=t("div",{class:"text-2xl font-bold tracking-tight leading-3"},"ppm",-1),Xt={width:"40",height:"100",viewBox:"0 0 40 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Yt=t("path",{d:"M0 6C0 2.68629 2.68629 0 6 0H34C37.3137 0 40 2.68629 40 6V94C40 97.3137 37.3137 100 34 100H6C2.68629 100 0 97.3137 0 94V6Z",fill:"black"},null,-1),Jt=["cy","fill"],Qt={class:"mt-8"},es=t("sub",null,"2",-1),ts={props:{installationId:{type:String,required:!0},sensorName:{type:String,required:!0},sensorId:{type:String,required:!0},roomName:{type:String,required:!0},roomId:{type:String,required:!0},isPublic:{type:Boolean,required:!0},latestMeasurement:{type:String,default:""}},setup(e){const o=e,{t:r}=q(),c=u=>r(u?"This installation is public.":"This installation is not public."),s=parseInt((o==null?void 0:o.latestMeasurement)||"0"),i=()=>s?s<=800?"#7DBF70":s<=1200?"#EBAC56":"#E1665E":"#9CA3AF",d=(()=>s?s<=800?"75":s<=1200?"50":"25":"-100")(),y=i();return(u,p)=>{const h=E("router-link");return m(),f("div",{class:$([n(s)?n(s)<=800?"bg-[#7DBF70]":n(s)<=1200?"bg-[#EBAC56]":"bg-[#E1665E]":"bg-gray-400","max-w-xs rounded-md shadow-md hover:shadow-lg drop-shadow-md hover:drop-shadow-lg p-8 ring-1 ring-gray-300 ring-opacity-50 text-black"])},[t("div",Vt,[t("div",Ft,[l(h,{to:{name:"sensor",params:{sensorId:e.sensorId}},class:"underline text-2xl hover:text-gray-900 hover:no-underline"},{default:v(()=>[O(_(e.sensorName),1)]),_:1},8,["to"]),l(h,{to:{name:"room",params:{roomId:e.roomId}},class:"underline text-xl hover:text-gray-900 hover:no-underline"},{default:v(()=>[O(_(e.roomName),1)]),_:1},8,["to"])]),t("div",{"data-tip":c(e.isPublic),class:"tooltip h-8 w-8"},[e.isPublic?(m(),S(n(ze),{key:0})):(m(),S(n(Le),{key:1}))],8,Bt)]),t("div",Ht,[t("div",Ut,[t("div",qt,[O(_(u.$t("Latest"))+" CO",1),Gt,O(" "+_(u.$t("Value")),1)]),t("div",Kt,[t("div",Wt,_(e.latestMeasurement||"-"),1),Zt])]),t("div",null,[(m(),f("svg",Xt,[Yt,t("circle",{cx:"20",cy:n(d),r:"14",fill:n(y)},null,8,Jt)]))])]),t("div",Qt,[l(h,{to:{name:"installation",params:{installationId:e.installationId}},class:"bg-black hover:ring hover:ring-gray-300 shadow-md drop-shadow-md flex p-2 w-full rounded-lg text-lg text-gray-300 font-semibold items-center justify-center"},{default:v(()=>[l(n(Ce),{class:"w-5 h-5 mr-3"}),t("span",null,[O(_(u.$t("View"))+" CO",1),es,O(" "+_(u.$t("Chart")),1)])]),_:1},8,["to"])])],2)}}},ss={key:0},os={key:1,class:"mx-2"},ns={class:"font-bold text-xl mt-8"},as={class:""},rs={key:0},is={role:"list",class:"grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3"},ls={key:1,class:"shadow-md mt-4 rounded-md max-w-sm flex items-center bg-yellow-50 border-l-4 border-yellow-400 p-4"},ds={class:"flex"},cs={class:"flex-shrink-0"},us={class:"ml-3"},ms=O(" Click here to add one "),gs={setup(e){const o=L(),r=D(),c=C(!0),s=x(()=>o.params.orgId);P(async()=>y()),K(s,()=>y());const i=C(void 0),a=x(()=>{var u;return(u=i.value)==null?void 0:u.filter(p=>p.from_timestamp_s<=p.query_timestamp_s&&p.to_timestamp_s>=p.query_timestamp_s)}),d=x(()=>{var u;return!!((u=a==null?void 0:a.value)==null?void 0:u.length)}),y=async()=>{c.value=!0;const u=await r.dispatch("jv/get",["installations",{params:{"filter[organization]":s.value}}]),p=Object.entries(u);i.value=p.map(([,g])=>g);const h=p.map(([g,I])=>(console.log(`Get related objects for installation ${g}.`),r.dispatch("jv/getRelated",`installations/${g}`).then(()=>{typeof I.room=="object"&&r.dispatch("jv/getRelated",`rooms/${I.room._jv.id}`)})));await Promise.all(h),c.value=!1};return(u,p)=>{const h=E("router-link");return c.value?(m(),f("div",ss,_(u.$t("loading...")),1)):(m(),f("div",os,[t("h2",ns,_(u.$t("Active Installations")),1),t("div",as,[n(d)?(m(),f("div",rs,[t("ul",is,[(m(!0),f(N,null,T(n(a),g=>{var I,b,V,F,B;return m(),f("li",{key:g._jv.id,class:"col-span-1 mt-4"},[l(ts,{"installation-id":g._jv.id,"sensor-name":((I=g.node)==null?void 0:I.alias)||((b=g.node)==null?void 0:b.eui64),"sensor-id":g.node._jv.id,"room-name":(V=g.room)==null?void 0:V.name,"room-id":g.room._jv.id,"is-public":g==null?void 0:g.is_public,"latest-measurement":(B=(F=g==null?void 0:g.latest_sample)==null?void 0:F.co2_ppm)==null?void 0:B.toString()},null,8,["installation-id","sensor-name","sensor-id","room-name","room-id","is-public","latest-measurement"])])}),128))])])):(m(),f("div",ls,[t("div",ds,[t("div",cs,[l(n(je),{class:"h-5 w-5 text-yellow-400","aria-hidden":"true"})]),t("div",us,[O(_(u.$t("org.noInstallations"))+" "+_(" "),1),l(h,{to:"#",class:"font-medium underline text-yellow-700 hover:text-yellow-600"},{default:v(()=>[ms]),_:1})])])]))])]))}}},ps={key:0,class:"bg-white shadow-md sm:rounded-md"},hs={class:"max-w-screen-xl px-4 py-6 mx-auto sm:px-6 lg:px-8"},fs={class:"text-3xl font-bold leading-tight text-gray-900"},_s={class:"max-w-screen-xl py-6 mx-auto rounded-md"},ee={setup(e){const o=L(),r=G(),c=D(),s=x(()=>o.params.orgId),i=x(()=>typeof s.value=="string"),a=x(()=>i.value?c.getters["jv/get"]({_jv:{type:"Organization",id:s.value}}):{name:"org.none"});return P(()=>{if(o.name==="dashboard"){const d=c.getters["authuser/getMemberships"];if((d==null?void 0:d.length)>0){const y=d[0].orgId;r.push({name:"overview",params:{orgId:y}})}else r.push({name:"org-management-add"})}}),(d,y)=>{const u=E("router-view");return m(),f("div",null,[d.$route.meta.title?(m(),f("header",ps,[t("div",hs,[t("h1",fs,_(n(a).name)+" \u2013 "+_(d.$t(n(o).meta.title)),1)])])):A("",!0),t("div",_s,[l(u)])])}}},vs=()=>w(()=>import("./Organizations.b2be2b7f.js"),["assets/Organizations.b2be2b7f.js","assets/vendor.eafa4657.js","assets/index.8fc35793.js"]),bs=()=>w(()=>import("./Organization.8a5fb2f3.js"),["assets/Organization.8a5fb2f3.js","assets/vendor.eafa4657.js","assets/index.8fc35793.js","assets/DeletionModal.c7a6faaa.js"]),ys=()=>w(()=>import("./AddOrganization.9c2ba2a2.js"),["assets/AddOrganization.9c2ba2a2.js","assets/vendor.eafa4657.js"]),xs=()=>w(()=>import("./EditOrganization.e88674de.js"),["assets/EditOrganization.e88674de.js","assets/vendor.eafa4657.js"]),ws=()=>w(()=>import("./NotFound.d5b0e130.js"),["assets/NotFound.d5b0e130.js","assets/plugin-vue_export-helper.5a098b48.js","assets/vendor.eafa4657.js"]),$s=()=>w(()=>import("./Sites.ffad8993.js"),["assets/Sites.ffad8993.js","assets/vendor.eafa4657.js","assets/DeletionModal.c7a6faaa.js"]),Os=()=>w(()=>import("./Site.f7077517.js"),["assets/Site.f7077517.js","assets/vendor.eafa4657.js","assets/DeletionModal.c7a6faaa.js"]),Ss=()=>w(()=>import("./AddSite.1cc6b7ed.js"),["assets/AddSite.1cc6b7ed.js","assets/vendor.eafa4657.js"]),Is=()=>w(()=>import("./AddRoom.a29b5e04.js"),["assets/AddRoom.a29b5e04.js","assets/vendor.eafa4657.js"]),Es=()=>w(()=>import("./Rooms.08fb73e5.js"),["assets/Rooms.08fb73e5.js","assets/vendor.eafa4657.js","assets/DeletionModal.c7a6faaa.js"]),As=()=>w(()=>import("./Room.2c37b337.js"),["assets/Room.2c37b337.js","assets/vendor.eafa4657.js"]),ks=()=>w(()=>import("./Installation.b943bf1d.js"),["assets/Installation.b943bf1d.js","assets/vendor.eafa4657.js"]),Rs=()=>w(()=>import("./AddInstallation.a604bee6.js"),["assets/AddInstallation.a604bee6.js","assets/plugin-vue_export-helper.5a098b48.js","assets/vendor.eafa4657.js"]),Ns=()=>w(()=>import("./Sensors.4f79bac4.js"),["assets/Sensors.4f79bac4.js","assets/vendor.eafa4657.js"]),Ts=()=>w(()=>import("./Sensor.b61534a5.js"),["assets/Sensor.b61534a5.js","assets/plugin-vue_export-helper.5a098b48.js","assets/vendor.eafa4657.js"]),Ds=()=>w(()=>import("./Logout.bed35225.js"),["assets/Logout.bed35225.js","assets/vendor.eafa4657.js"]),zs=[{path:"/",redirect:"/dashboard"},{path:"/dashboard",name:"dashboard",component:ee},{path:"/dashboard/:orgId",name:"home",component:ee,props:!0,meta:{title:"org.singular"},children:[{path:"",name:"overview",component:gs,meta:{title:"overview"}},{path:"installation/:installationId",name:"installation",component:ks,meta:{title:"installation.details"}},{path:"sites",name:"sites",component:$s,meta:{title:"sites"}},{path:"sites/addSite",name:"addSite",component:Ss,meta:{title:"site.add"}},{path:"sites/:siteId",name:"site",component:Os,meta:{title:"site.details"}},{path:"sites/:siteId/addRoom",name:"addRoom",component:Is,meta:{title:"room.add"}},{path:"rooms",name:"rooms",component:Es,meta:{title:"rooms"}},{path:"rooms/:roomId",name:"room",component:As,meta:{title:"room.details"}},{path:"rooms/:roomId/addInstallation",name:"addInstallation",component:Rs,meta:{title:"installation.add"}},{path:"sensors",name:"sensors",component:Ns,meta:{title:"nodes"}},{path:"sensors/:sensorId",name:"sensor",component:Ts,meta:{title:"node.details"}}]},{path:"/org-management",name:"org-management",meta:{title:"org.manage"},component:vs},{path:"/org-management/:orgId",name:"org-management-detail",meta:{title:"org.detail"},component:bs},{path:"/org-management/:orgId/edit",name:"org-management-edit",meta:{title:"org.edit"},component:xs},{path:"/org-management/add",name:"org-management-add",meta:{title:"org.add"},component:ys},{path:"/accounts/email",name:"change-email",beforeEnter(){window.location.href="/accounts/email"}},{path:"/accounts/password/change",name:"change-password",beforeEnter(){window.location.href="/accounts/password/change"}},{path:"/logout",name:"logout",meta:{title:"user.logout"},component:Ds},{path:"/:pathMatch(.*)",component:ws}];function Ls(){return{error:void 0,userIsLoading:!0,membershipsAreLoading:!0,id:void 0,email:void 0,firstName:void 0,lastName:void 0,userName:void 0,memberships:[]}}const Cs={logout(){return k.post("/api/v1/auth/logout/")},async fetchMemberships(e){e.commit("START_MEMBERSHIPSLOADING");try{const o=e.getters.getId,r=await e.dispatch("jv/get",`users/${o}/memberships`,{root:!0}),c=Object.keys(r).map(s=>{const i=r[s],a=i._jv.attrs;return{id:s,role:a.role,orgName:a.organization_name,orgId:i._jv.relationships.organization.data.id}});e.commit("SET_MEMBERSHIPS",c||[])}catch(o){throw e.commit("MARK_ERROR"),o}finally{e.commit("STOP_MEMBERSHIPSLOADING")}},async fetchAuthenticatedUser(e){e.commit("START_USERLOADING");try{const r=(await k.get("/api/v1/auth/user")).data.data.id,c=await e.dispatch("jv/get",`users/${r}/`,{root:!0});e.commit("SET_ID",r),e.commit("SET_AUTHUSER",c._jv.attrs),await e.dispatch("fetchMemberships"),e.commit("MARK_SUCCESS")}catch(o){throw e.commit("MARK_ERROR"),o}finally{e.commit("STOP_USERLOADING")}}},js={isLoggedIn(e){return e.id!==null&&j.get("csrftoken")},isLoading(e){return e.userIsLoading||e.membershipsAreLoading},isError(e){return e.error},getId(e){return e.id?e.id:void 0},getInfo(e){return e.id?{id:e.id,email:e.email,firstName:e.firstName,lastName:e.lastName,userName:e.userName}:void 0},getMemberships(e){return e.id?e.memberships:[]},getMembershipByOrgId:e=>o=>e.memberships.find(r=>r.orgId===o)},Ps={START_USERLOADING(e){e.userIsLoading=!0},STOP_USERLOADING(e){e.userIsLoading=!1},START_MEMBERSHIPSLOADING(e){e.membershipsAreLoading=!0},STOP_MEMBERSHIPSLOADING(e){e.membershipsAreLoading=!1},MARK_ERROR(e){e.error=!0},MARK_SUCCESS(e){e.error=!1},SET_ID(e,o){e.id=o},SET_AUTHUSER(e,{email:o,first_name:r,last_name:c,username:s}){e.email=o,e.firstName=r,e.lastName=c,e.userName=s},SET_MEMBERSHIPS(e,o){e.memberships=[],e.memberships.push(...o)}},Ms={namespaced:!0,actions:Cs,getters:js,mutations:Ps,state:Ls};k.defaults.xsrfHeaderName="X-CSRFToken";k.defaults.xsrfCookieName="csrftoken";const te=k.create({baseURL:"/api/v1/",headers:{"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json, application/json, text/plain, */*"},xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFTOKEN"}),se=e=>{console.log(e),e.response.status===401&&(window.location.href=window.location.origin+"/accounts/login/"),Promise.reject(e)};te.interceptors.response.use(e=>e,e=>se(e));k.interceptors.response.use(e=>e,e=>se(e));const Vs=Pe({modules:{authuser:Ms,jv:Me(te)}}),Fs="Latest",Bs="View",Hs="Chart",Us="Value",qs="Action",Gs="Actions",Ks="Add",Ws={city:"City",createError:"Failed to create the address!",singular:"Address",street1:"Street and Number",street2:"Routing Extension",zip:"Zip-Code",updateError:"Failed to update the address!",updateSuccess:"Address has been updated!"},Zs="Cancel",Xs="Day",Ys="Description",Js="Edit",Qs="Email",eo="Inspect",to={add:"Add Installation",details:"Installation Details",terminate:"Terminate Installation"},so="Installations",oo="Leave",no="Month",ao="Name",ro="Next",io={addNode:"Add a sensor",details:"Sensor Details",identifier:"Sensor-ID",installedOn:"Installed on",isPublic:"Data public?",name:"Sensor Name",noNodes:"The selected organization has no sensors.",removedOn:"Removed on",singular:"Sensor",model:"Model",sampleCount:"Samples"},lo="Sensors",co="Now",uo="of",mo="ongoing",go="Options",po="optional",ho={add:"Add Organization",addSite:"Add a site",all:"All your Organizations",create:"Create Organization",createError:"Failed to create the organization!",delete:"Delete Organization",details:"Organization Details",edit:"Edit Organization",invite:"Invite Members",manage:"Manage Organizations",members:"Members",name:"Organization Name",noInstallations:"This organization has no active installations.",none:"No Organization",noSite:"The selected organization has no sites",plural:"Organizations",singular:"Organization",switch:"Switch Organization",updateError:"Failed to update the organization!",updateSuccess:"Organization details have been updated!"},fo="Overview",_o="CO2-Concentration [PPM]",vo="Previous",bo="Remove",yo={assistant:"Assistant",change:"Change Role",inspector:"Inspector",owner:"Owner",singular:"Role",your:"Your Role"},xo={add:"Add Room",addRoomToSite:"Add Room to Site",createError:"Failed to create the room!",details:"Room Details",height:"Height",maxOccupancy:"Maximum Occupancy [Persons]",name:"Room Name",noRoom:"The selected organization has no rooms",sensor:"Sensor",siteForRoom:"Select a site to add a room.",size:"Size",updateError:"Failed to update the room!",updateSuccess:"Room details have been updated!"},wo="Rooms",$o={add:"Add Site",createError:"Failed to create the site!",details:"Site Details",missingNameAddress:"Site name and address must be provided!",name:"Site Name",noRooms:"This site has no rooms",singular:"Site",update:"Update",updateError:"Failed to update the site!",updateSuccess:"Sites details have been updated!"},Oo="Sites",So="Team",Io="Time",Eo="Update",Ao={"change-email":"Change your email","change-password":"Change password",logout:"Logout",plural:"Users",settings:"User Settings",singular:"User"},ko="Week";var Ro={"404":{home:"Back to home",msg:"Oops! Nothing to see here"},"This installation is public.":"This installation is public.","This installation is not public.":"This installation is not public.","Active Installations":"Active Installations",Latest:Fs,View:Bs,Chart:Hs,Value:Us,action:qs,actions:Gs,add:Ks,address:Ws,cancel:Zs,day:Xs,delete:"Delete","delete-org-modal":{message:"Are you sure you want to delete this organization? This action cannot be undone!",title:"Delete Organization"},"delete-room-modal":{message:"Are you sure you want to delete this room? This action cannot be undone!",title:"Delete Room"},"delete-site-modal":{message:"Are you sure you want to delete this site? This action cannot be undone!",title:"Delete Site"},description:Ys,edit:Js,email:Qs,inspect:eo,installation:to,installations:so,leave:oo,"loading...":"loading...","logging-out":"You are being logged out",month:no,name:ao,next:ro,node:io,nodes:lo,now:co,of:uo,ongoing:mo,options:go,optional:po,org:ho,overview:fo,ppm:_o,previous:vo,remove:bo,role:yo,room:xo,rooms:wo,site:$o,sites:Oo,team:So,time:Io,update:Eo,user:Ao,week:ko};const No="Aktueller",To="Zum",Do="Diagramm",zo="Wert",Lo="Aktion",Co="Aktionen",jo="Hinzuf\xFCgen",Po={city:"Stadt",createError:"Fehler beim Anlegen der Adresse!",singular:"Adresse",street1:"Stra\xDFe und Hausnummer",street2:"Adressdetails",zip:"Postleitzahl",updateError:"Fehler beim Aktualisieren der Addresse!",updateSuccess:"Adresse wurde erfolgreich aktualisiert!"},Mo="Abbrechen",Vo="Tag",Fo="Beschreibung",Bo="Bearbeiten",Ho="E-Mail",Uo="Verlassen",qo="Details",Go={add:"Installation Hinzuf\xFCgen",details:"Installationsdetails",terminate:"Installation beenden"},Ko="Installationen",Wo="Monat",Zo="Name",Xo="Weiter",Yo={addNode:"Sensor hinzuf\xFCgen",details:"Sensordetails",identifier:"Sensor-ID",installedOn:"installiert am",isPublic:"Daten \xF6ffentlich?",name:"Sensorname",noNodes:"Die gew\xE4hlte Organisation verf\xFCgt \xFCber keine Sensoren.",removedOn:"Entfernt am",singular:"Sensor",model:"Modell",sampleCount:"Messwerte"},Jo="Sensoren",Qo="Jetzt",en="von",tn="laufend",sn="Optionen",on="optional",nn={add:"Organisation hinzuf\xFCgen",addSite:"Ort hinzuf\xFCgen",all:"All Ihre Organisationen",create:"Organisation hinzuf\xFCgen",createError:"Fehler beim Anlegen der Organisation!",delete:"Organisation l\xF6schen",details:"Organisationsdetails",edit:"Organisation editieren",invite:"Mitglieder einladen",manage:"Organisationen verwalten",members:"Mitglieder",name:"Organisationsname",noInstallations:"Diese Organisation hat keine aktiven Installationen.",none:"Keine Organisation",noSite:"Die gew\xE4hlte Organisation verf\xFCgt \xFCber keine Orte",plural:"Organisationen",singular:"Organisation",switch:"Organisation wechseln",updateError:"Fehler beim Aktualisieren der Organisation!",updateSucces:"Details der Organisation wurden erfolgreich aktualsiert."},an="\xDCberblick",rn="Zur\xFCck",ln="CO2 Gehalt in ppm",dn="Entfernen",cn={assistant:"Assistent",change:"Rolle \xE4ndern",inspector:"Inspekteur",owner:"Besitzer",singular:"Rolle",your:"Ihre Rolle"},un={add:"Raum hinzuf\xFCgen",addRoomToSite:"Raum hinzuf\xFCgen zum Ort",createError:"Fehler beim Anlegen des Raumes!",details:"Raumdetails",height:"H\xF6he",maxOccupancy:"Maximale Belegung [Personen]",name:"Raumname",noRoom:"Die gew\xE4hlte Organisation hat keine R\xE4ume",sensor:"Sensor",siteForRoom:"W\xE4hlen Sie einen Ort aus, um in diesem R\xE4ume anzulegen.",size:"Gr\xF6\xDFe",updateError:"Fehler beim Aktualisieren des Raums!",updateSuccess:"Raumdetails wurden erfolgreich akualisiert!"},mn="R\xE4ume",gn={add:"Ort hinzuf\xFCgen",createError:"Fehler beim Anlegen des Orts!",details:"Ort-Details",missingNameAddress:"Name und Adresse des Orts m\xFCssen angegeben werden!",name:"Name des Orts",noRooms:"Dieser Ort hat noch keine R\xE4ume.",singular:"Ort",update:"Aktualisieren",updateError:"Fehler beim Aktualisieren des Orts!",updateSuccess:"Details des Orts wurden erfolgreich akualisiert!"},pn="Orte",hn="Team",fn="Zeit",_n="Aktualisieren",vn={"change-email":"Email-Adresse \xE4ndern","change-password":"Passwort \xE4ndern",logout:"Ausloggen",plural:"Nutzer",settings:"Nutzereinstellungen",singular:"Nutzer"},bn="Woche";var yn={"404":{home:"Zur\xFCck zur Startseite",msg:"Huch! Hier ist nichts"},"This installation is public.":"Diese Installation ist \xF6ffentlich.","This installation is not public.":"Diese Installation ist nicht \xF6ffentlich.","Active Installations":"Aktive Installationen",Latest:No,View:To,Chart:Do,Value:zo,action:Lo,actions:Co,add:jo,address:Po,cancel:Mo,day:Vo,delete:"L\xF6schen","delete-org-modal":{message:"Sind Sie sicher, dass Sie diese Organisation gel\xF6scht werden soll? Diese Aktion kann nicht r\xFCckg\xE4nging gemacht werden!",title:"Organisation l\xF6schen"},"delete-room-modal":{message:"Sind Sie sicher, dass Sie diesen Raum l\xF6schen m\xF6chten? Diese Aktion kann nicht r\xFCckg\xE4nging gemacht werden!",title:"Raum l\xF6schen"},"delete-site-modal":{message:"Sind Sie sicher, dass Sie diesen Ort l\xF6schen m\xF6chten? Diese Aktion kann nicht r\xFCckg\xE4nging gemacht werden!",title:"Ort l\xF6schen"},description:Fo,edit:Bo,email:Ho,leave:Uo,"loading...":"l\xE4dt...","logging-out":"Sie werden ausgeloggt...",inspect:qo,installation:Go,installations:Ko,month:Wo,name:Zo,next:Xo,node:Yo,nodes:Jo,now:Qo,of:en,ongoing:tn,options:sn,optional:on,org:nn,overview:an,previous:rn,ppm:ln,remove:dn,role:cn,room:un,rooms:mn,site:gn,sites:pn,team:hn,time:fn,update:_n,user:vn,week:bn},xn={en:Ro,de:yn};const wn=Ve({history:Fe(),routes:zs}),$n=Be.exports.createI18n({locale:"de",fallbackLocale:["de","en"],messages:xn}),z=He(jt);z.use(wn);z.use(Vs);z.use($n);z.use(Ue);z.mount("#app");
