import{u as j,C,c as m,E as y,r as R,d as a,o as n,a as D,f as r,g as l,w as p,b as e,t,e as i,F as N,p as I,n as L,ak as B,i as M,a7 as O}from"./vendor.2e3a8e12.js";import{_ as V}from"./DeletionModal.001ca0cc.js";import{L as z}from"./index.09f868a8.js";const F={key:1,class:"ring-1 ring-gray-300 rounded-md bg-white text-md overflow-hidden mt-8"},S={class:"text-sm text-gray-500"},E={class:"min-w-full divide-y divide-gray-200"},q={class:"bg-gray-50"},T={scope:"col",class:"px-2 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 tracking-wider"},A={scope:"col",class:"sm:px-6 py-3 text-right text-xs font-medium text-gray-500 tracking-wider"},G=e("sup",null,"2",-1),H=i("] "),J={scope:"col",class:"sm:px-6 py-3 text-right text-xs font-medium text-gray-500 tracking-wider"},K={scope:"col",class:"sm:px-6 py-3 text-right text-xs font-medium text-gray-500 tracking-wider hidden md:table-cell"},P={scope:"col",class:"px-2 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 tracking-wider"},Q={scope:"col",class:"sm:px-6 py-3 text-left text-xs font-medium text-gray-500 tracking-wider"},U={class:"px-2 sm:px-6 py-4 whitespace-nowrap"},W={class:"px-2 sm:px-6 py-4 whitespace-nowrap text-right"},X={class:"px-2 sm:px-6 py-4 whitespace-nowrap text-right"},Y={class:"hidden md:table-cell px-2 sm:px-6 py-4 whitespace-nowrap text-right"},Z={class:"hidden md:table-cell px-2 sm:px-6 py-4 whitespace-nowrap"},ee={class:"px-2 sm:px-6 py-4 whitespace-nowrap"},te={class:"flex flex-col sm:flex-row"},se=["onClick"],oe={key:2,class:"shadow-md mt-4 rounded-md max-w-sm flex items-center bg-yellow-50 border-l-4 border-yellow-400 p-4"},ae={class:"flex"},ne={class:"flex-shrink-0"},le={class:"ml-3"},me={setup(ie){const d=j(),{n:x}=C(),w=m(()=>d.getters["nav/isOrgContextLoading"]),f=m(()=>d.getters["nav/isOwner"]),u=m(()=>d.getters["nav/getRooms"]),v=m(()=>{var s;return((s=u.value)==null?void 0:s.length)>0}),h=y(!1),c=y(),k=()=>h.value=!0,b=async()=>{console.log(`Deleting room with ID ${c.value}`),await d.dispatch("jv/delete",`rooms/${c.value}`),d.commit("jv/deleteRecord",{_jv:{type:"Room",id:c.value}})};return(s,g)=>{const _=R("router-link");return a(w)?(n(),D(z,{key:0})):a(v)?(n(),r("div",F,[l(V,{open:h.value,onCloseModal:g[0]||(g[0]=o=>h.value=!1),onDeleteClicked:b,"modal-title":"delete-room-modal.title"},{default:p(()=>[e("p",S,t(s.$t("delete-room-modal.message")),1)]),_:1},8,["open"]),e("table",E,[e("thead",q,[e("tr",null,[e("th",T,t(s.$t("room.name")),1),e("th",A,[i(t(s.$t("room.size"))+" [m",1),G,H]),e("th",J,t(s.$t("room.height"))+" [m] ",1),e("th",K,t(s.$t("room.maxOccupancy")),1),e("th",P,t(s.$t("site.singular")),1),e("th",Q,t(s.$t("action")),1)])]),e("tbody",null,[(n(!0),r(N,null,I(a(u),(o,$)=>(n(),r("tr",{key:o._jv.id,class:L([$%2==0?"bg-white":"bg-gray-50"])},[e("td",U,[l(_,{class:"como-link",to:{name:"room",params:{roomId:o._jv.id}}},{default:p(()=>[i(t(o.name),1)]),_:2},1032,["to"])]),e("td",W,t(a(x)(Number(o.size_sqm))||"-"),1),e("td",X,t(a(x)(Number(o.height_m))||"-"),1),e("td",Y,t(o.max_occupancy||"-"),1),e("td",Z,[l(_,{class:"como-link",to:{name:"site",params:{siteId:o.site._jv.id}}},{default:p(()=>[i(t(o.site.name),1)]),_:2},1032,["to"])]),e("td",ee,[e("div",te,[a(f)?(n(),r("div",{key:0,class:"btn-sm gray-button font-semibold w-max",onClick:()=>{k(),c.value=o._jv.id}},[l(a(B),{class:"w-4 h-4 mr-2"}),e("span",null,t(s.$t("remove")),1)],8,se)):M("",!0)])])],2))),128))])])])):(n(),r("div",oe,[e("div",ae,[e("div",ne,[l(a(O),{class:"h-5 w-5 text-yellow-400","aria-hidden":"true"})]),e("div",le,[i(t(s.$t("room.noRoom"))+". ",1),l(_,{to:"sites",class:"font-medium underline text-yellow-700 hover:text-yellow-600"},{default:p(()=>[i(t(s.$t("room.siteForRoom")),1)]),_:1})])])]))}}};export{me as default};
