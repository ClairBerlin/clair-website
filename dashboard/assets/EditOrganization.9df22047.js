import{o as s,c as O,a as n,b as y,a0 as b,C,u as I,d as l,e as j,f as a,g as t,t as m,h as z,i as e,l as v,w as B,F as N}from"./index.5094c426.js";import{_ as V}from"./OrganizationForm.bdf0bca1.js";import"./TextInput.1dc4ae92.js";import"./SubmitButton.166d0718.js";function $(f,o){return s(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})])}const F={key:0,class:"bg-white shadow-md sm:rounded-sm"},S={class:"mx-auto max-w-screen-xl px-4 py-6 sm:px-6"},A={class:"text-3xl font-bold leading-tight text-gray-900"},E={class:"mt-8 max-w-sm sm:max-w-lg"},T={key:0,class:"mt-4 flex items-center rounded-sm border-l-4 border-red-400 bg-red-50 p-4 shadow-md"},D={class:"flex"},L={class:"flex-shrink-0"},M={class:"ml-3"},R=v(" Find their contact information here. "),q={key:1,class:"rounded-sm bg-white p-6 shadow-md"},P={setup(f){const o=y(),u=b(),h=C(),{t:g}=I(),p=l(()=>o.state.nav.currentOrgId),d=l(()=>o.getters["jv/get"]({_jv:{type:"Organization",id:p.value}})),_=l(()=>o.getters["nav/isOwner"]),k=async({name:r,description:w})=>{let i={_jv:{type:"Organization",id:u.params.orgId},name:r,description:w};try{await o.dispatch("jv/patch",[i,{url:`organizations/${u.params.orgId}/`}]),h.success(g("org.updateSuccess"))}catch{h.error(g("org.updateError"))}};return(r,w)=>{var c,x;const i=j("router-link");return s(),a(N,null,[r.$route.meta.title?(s(),a("header",F,[t("div",S,[t("h1",A,m(r.$t("org.edit")),1)])])):z("",!0),t("div",E,[e(_)?(s(),a("div",q,[n(V,{"allow-edit":e(_),"org-name":(c=e(d))==null?void 0:c.name,"org-description":(x=e(d))==null?void 0:x.description,"button-text":"update","on-submit":k},null,8,["allow-edit","org-name","org-description"])])):(s(),a("div",T,[t("div",D,[t("div",L,[n(e($),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),t("div",M,[v(" Only the Owner of an organization can change the name and/or description. Contact the Owner of "+m(e(d).name)+". "+m(" ")+" ",1),n(i,{to:{name:"org-management-detail",params:{orgId:e(p)}},class:"font-medium text-red-700 underline hover:text-red-600"},{default:B(()=>[R]),_:1},8,["to"])])])]))])],64)}}};export{P as default};
