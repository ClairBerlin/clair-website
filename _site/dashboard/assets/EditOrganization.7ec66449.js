import{u as O,U as y,al as b,D as k,c,r as I,o as a,f as r,b as t,t as m,j,d as e,g as l,aH as z,e as f,w as C,F as N}from"./vendor.c632a9d3.js";import{_ as V}from"./OrganizationForm.465d6db8.js";import"./TextInput.d734e693.js";import"./SubmitButton.1f24900a.js";const $={key:0,class:"bg-white shadow-md sm:rounded-sm"},B={class:"mx-auto max-w-screen-xl px-4 py-6 sm:px-6"},F={class:"text-3xl font-bold leading-tight text-gray-900"},S={class:"mt-8 max-w-sm sm:max-w-lg"},D={key:0,class:"mt-4 flex items-center rounded-sm border-l-4 border-red-400 bg-red-50 p-4 shadow-md"},E={class:"flex"},T={class:"flex-shrink-0"},H={class:"ml-3"},R=f(" Find their contact information here. "),U={key:1,class:"rounded-sm bg-white p-6 shadow-md"},L={setup(q){const s=O(),u=y(),g=b(),{t:p}=k(),h=c(()=>s.state.nav.currentOrgId),n=c(()=>s.getters["jv/get"]({_jv:{type:"Organization",id:h.value}})),_=c(()=>s.getters["nav/isOwner"]),v=async({name:o,description:x})=>{let d={_jv:{type:"Organization",id:u.params.orgId},name:o,description:x};try{await s.dispatch("jv/patch",[d,{url:`organizations/${u.params.orgId}/`}]),g.success(p("org.updateSuccess"))}catch{g.error(p("org.updateError"))}};return(o,x)=>{var i,w;const d=I("router-link");return a(),r(N,null,[o.$route.meta.title?(a(),r("header",$,[t("div",B,[t("h1",F,m(o.$t("org.edit")),1)])])):j("",!0),t("div",S,[e(_)?(a(),r("div",U,[l(V,{"allow-edit":e(_),"org-name":(i=e(n))==null?void 0:i.name,"org-description":(w=e(n))==null?void 0:w.description,"button-text":"update","on-submit":v},null,8,["allow-edit","org-name","org-description"])])):(a(),r("div",D,[t("div",E,[t("div",T,[l(e(z),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),t("div",H,[f(" Only the Owner of an organization can change the name and/or description. Contact the Owner of "+m(e(n).name)+". "+m(" ")+" ",1),l(d,{to:{name:"org-management-detail",params:{orgId:e(h)}},class:"font-medium text-red-700 underline hover:text-red-600"},{default:C(()=>[R]),_:1},8,["to"])])])]))])],64)}}};export{L as default};
