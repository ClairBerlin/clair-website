import{u as b,Q as O,aj as y,C as j,c,r as k,o as a,f as r,b as t,t as m,i as I,d as e,g as l,aD as z,e as w,w as C,F as B}from"./vendor.5ded90fb.js";import{_ as F}from"./OrganizationForm.86edc0fc.js";import"./TextInput.71af346a.js";import"./camelCase.247e703b.js";import"./SubmitButton.9bc274e1.js";const N={key:0,class:"bg-white shadow-md sm:rounded-md"},S={class:"max-w-screen-xl px-4 py-6 mx-auto sm:px-6"},V={class:"text-3xl font-bold leading-tight text-gray-900"},$={class:"max-w-sm sm:max-w-lg mt-8"},T={key:0,class:"shadow-md mt-4 rounded-md flex items-center bg-red-50 border-l-4 border-red-400 p-4"},D={class:"flex"},E={class:"flex-shrink-0"},Q={class:"ml-3"},R=w(" Find their contact information here. "),q={key:1,class:"bg-white rounded-md shadow-md p-6"},M={setup(A){const s=b(),u=O(),g=y(),{t:p}=j(),h=c(()=>s.state.nav.currentOrgId),n=c(()=>s.getters["jv/get"]({_jv:{type:"Organization",id:h.value}})),_=c(()=>s.getters["nav/isOwner"]),v=async({name:o,description:x})=>{let d={_jv:{type:"Organization",id:u.params.orgId},name:o,description:x};try{await s.dispatch("jv/patch",[d,{url:`organizations/${u.params.orgId}/`}]),g.success(p("org.updateSuccess"))}catch{g.error(p("org.updateError"))}};return(o,x)=>{var i,f;const d=k("router-link");return a(),r(B,null,[o.$route.meta.title?(a(),r("header",N,[t("div",S,[t("h1",V,m(o.$t("org.edit")),1)])])):I("",!0),t("div",$,[e(_)?(a(),r("div",q,[l(F,{"allow-edit":e(_),"org-name":(i=e(n))==null?void 0:i.name,"org-description":(f=e(n))==null?void 0:f.description,"button-text":"update","on-submit":v},null,8,["allow-edit","org-name","org-description"])])):(a(),r("div",T,[t("div",D,[t("div",E,[l(e(z),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),t("div",Q,[w(" Only the Owner of an organization can change the name and/or description. Contact the Owner of "+m(e(n).name)+". "+m(" ")+" ",1),l(d,{to:{name:"org-management-detail",params:{orgId:e(h)}},class:"font-medium underline text-red-700 hover:text-red-600"},{default:C(()=>[R]),_:1},8,["to"])])])]))])],64)}}};export{M as default};
