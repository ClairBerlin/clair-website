import{o as c,c as _,a as t,u as n,b as O,r as T,d as l,w as f,P as ae,n as $,e as I,f as z,g as S,t as v,h as ne,i as re,T as H,j as ie,k as le,F as A,l as D,m as de,p as ce,q as L,s as P,v as x,x as G,y as me,z as ue,A as ge,B as pe,C as he,D as _e,E as M,G as C,H as fe,L as ve,I as ye,J as be,K as xe,M as we,N as Oe,O as $e,Q as K,R as W,S as F,U as q,V as Ee,W as Ie,X as Re,Y as V,Z as Se,_ as Ae,$ as ke,a0 as Ne,a1 as Te,a2 as ze,a3 as De,a4 as Le,a5 as je,a6 as Pe,a7 as k,a8 as Ce,a9 as Me,aa as Fe,ab as Ve,ac as Ue,ad as Be,ae as He}from"./vendor.2f240eb0.js";const Ge=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))m(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&m(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function m(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}};Ge();var Ke="/assets/logo.c9cc220c.svg";const We={class:"flex items-center flex-shrink-0 px-4 py-0.5 mb-4"},qe=["src"],Ye=t("div",{class:"text-xl text-black font-bold"},[O(" CO"),t("sub",null,"2"),O(),t("br"),O("Monitoring ")],-1),Y={setup(e){return(o,r)=>(c(),_("div",We,[t("img",{class:"h-12 w-auto px-4",src:n(Ke),alt:"COMo logo"},null,8,qe),Ye]))}},Ze={class:"w-full"},Xe={class:"flex items-center"},Je={class:"text-left"},Qe={class:"shadow-lg rounded-lg ring-1 ring-gray-300"},et={class:"relative bg-white text-xs rounded-lg"},tt={class:"flex items-center pl-4 pr-2 py-2 justify-between"},ot={class:"font-semibold text-gray-500"},st={class:"flex"},at={key:2,class:"w-6"},nt={class:"font-medium text-gray-900 whitespace-nowrap"},Z={props:{icon:{type:Function,default:void 0},title:{type:String,required:!0},contextTitle:{type:String,default:""},popOverAbove:{type:Boolean,default:!1},options:{type:Array,required:!0}},setup(e){const o=()=>"text-gray-500 group-hover:text-gray-600 mr-2 flex-shrink-0 h-4 w-4";return(r,m)=>{const s=T("router-link");return c(),_("div",Ze,[l(n(ce),{class:"relative"},{default:f(({open:i})=>[l(n(ae),{class:$([i?"":"text-opacity-90","w-full inline-flex items-center px-2 py-4 text-sm font-medium text-black bg-orange-700 rounded-md group hover:text-opacity-100 hover:bg-gray-100 como-focus justify-between"])},{default:f(()=>[t("div",Xe,[e.icon?(c(),I(z(e.icon),{key:0,class:$(["text-gray-500 group-hover:text-gray-600","mr-3 flex-shrink-0 h-6 w-6"]),"aria-hidden":"true"})):S("",!0),t("span",Je,v(e.title),1)]),(c(),I(z(e.popOverAbove?n(ne):n(re)),{class:$([i?"":"text-opacity-70","w-5 h-5 ml-2 transition duration-150 ease-in-out group-hover:text-opacity-80"]),"aria-hidden":"true"},null,8,["class"]))]),_:2},1032,["class"]),l(H,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:f(()=>[l(n(ie),{class:$([e.popOverAbove?"top-[-9rem]":"top-16","w-full absolute z-10"])},{default:f(({close:a})=>[t("div",Qe,[t("div",et,[t("div",tt,[t("div",ot,v(r.$t(e.contextTitle)),1),l(n(le),{class:"h-4 w-4 text-gray-600 cursor-pointer",onClick:a},null,8,["onClick"])]),(c(!0),_(A,null,D(e.options,d=>(c(),I(s,{key:d.name,to:{name:d.route,params:d.params},onClick:a,class:"flex items-center px-4 py-2 transition duration-150 ease-in-out hover:bg-gray-100 como-focus border-t border-gray-200 cursor-pointer last:rounded-b-md"},{default:f(()=>[t("div",st,[d.selected?(c(),I(n(de),{key:0,class:$(o())},null,8,["class"])):d.icon?(c(),I(z(d.icon),{key:1,class:$(o()),"aria-hidden":"true"},null,8,["class"])):(c(),_("div",at)),t("p",nt,v((d==null?void 0:d.icon)?r.$t(d.name):d.name),1)])]),_:2},1032,["to","onClick"]))),128))])])]),_:1},8,["class"])]),_:1})]),_:1})])}}},X={setup(e){const o=L(),r=P(),m=x(()=>r.params.orgId),s=x(()=>typeof m.value=="string"),i=x(()=>s.value?o.getters["authuser/getMembershipByOrgId"](m.value):void 0),a=x(()=>{var b;const p=(b=i.value)==null?void 0:b.orgName;return p||"\u2014\u2014\u2014"}),d=x(()=>o.getters["authuser/getMemberships"].map(b=>{var g;return{selected:b.orgId===((g=i.value)==null?void 0:g.orgId),name:b.orgName,route:"overview",params:{orgId:b.orgId}}})),E=[{icon:G,name:"org.manage",route:"org-management",params:{}},{icon:me,name:"org.create",route:"org-management-add",params:{}}],y=x(()=>[...d.value,...E]),u=G;return(p,b)=>(c(),I(Z,{"context-title":"org.switch",title:n(a),icon:n(u),options:n(y)},null,8,["title","icon","options"]))}},J={setup(e){const o=L(),r=x(()=>{const{firstName:i,lastName:a}=o.state.authuser;return i&&a?i+" "+a:"\u2026"}),m=ue,s=[{icon:ge,name:"user.change-email",route:"change-email",params:{}},{icon:pe,name:"user.change-password",route:"change-password",params:{}},{icon:he,name:"user.logout",route:"logout",params:{}}];return(i,a)=>(c(),I(Z,{"context-title":"user.settings",title:n(r),options:s,icon:n(m),"pop-over-above":""},null,8,["title","icon"]))}},rt={class:"relative"},it={class:"w-full inline-flex truncate font-medium text-gray-700"},lt={class:"truncate"},dt={class:"ml-3 truncate"},ct={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},mt={class:"flex"},Q={setup(e){const o="preferredlanguage",r=[{id:1,name:"Deutsch - DE",short:"\u{1F1E9}\u{1F1EA}",locale:"de",unavailable:!1},{id:2,name:"English - EN",short:"\u{1F1EC}\u{1F1E7}",locale:"en",unavailable:!1},{id:3,name:"T\xFCrk\xE7e - TR",short:"\u{1F1F9}\u{1F1F7}",locale:"tr",unavailable:!0}],{locale:m}=_e({useScope:"global"}),s=d=>{M.set(o,d),m.value=d,K.locale(d)},i=r.find(d=>d.locale===M.get(o))||r[0],a=C(i);return fe(()=>s(a.value.locale)),(d,E)=>(c(),I(n($e),{as:"div",modelValue:a.value,"onUpdate:modelValue":E[0]||(E[0]=y=>a.value=y)},{default:f(()=>[l(n(ve),{class:"block text-sm font-medium text-gray-700"}),t("div",rt,[l(n(be),{class:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},{default:f(()=>[t("span",it,[t("span",lt,v(a.value.short),1),t("span",dt,v(a.value.name),1)]),t("span",ct,[l(n(ye),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),l(H,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[l(n(xe),{class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},{default:f(()=>[(c(),_(A,null,D(r,y=>l(n(we),{as:"template",key:y.id,value:y,disabled:y.unavailable},{default:f(({active:u,selected:p})=>[t("li",{class:$([u?"text-white bg-indigo-500 font-medium":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9"])},[t("div",mt,[t("span",{class:$([p?"font-semibold":"font-normal","truncate"])},v(y.short),3),t("span",{class:$([u?"text-white":y.unavailable?"text-gray-400":"text-gray-700","ml-2 truncate"])},v(y.name),3)]),p?(c(),_("span",{key:0,class:$([u?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[l(n(Oe),{class:"h-5 w-5","aria-hidden":"true"})],2)):S("",!0)],2)]),_:2},1032,["value","disabled"])),64))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}},ut={class:"h-screen flex overflow-hidden bg-gray-100"},gt={class:"relative flex-1 flex flex-col max-w-xs w-full bg-white"},pt={class:"absolute top-0 right-0 -mr-12 pt-2"},ht=t("span",{class:"sr-only"},"Close sidebar",-1),_t={class:"flex-1 h-0 pt-5 pb-4 overflow-y-auto"},ft=t("div",{class:"w-full px-3 border-b border-gray-200"},null,-1),vt={class:"mt-1 flex-1 px-2 space-y-1"},yt=t("div",{class:"w-full px-3 my-1 border-b border-gray-200"},null,-1),bt={key:0},xt=t("div",{class:"w-full px-3 my-1 border-b border-gray-200"},null,-1),wt=t("div",{class:"flex-shrink-0 w-14"},null,-1),Ot={class:"hidden lg:flex lg:flex-shrink-0"},$t={class:"flex flex-col w-64"},Et={class:"flex-1 flex flex-col min-h-0 border-r border-gray-200 shadow-md bg-white"},It={class:"flex-1 flex mx-2 px-1 flex-col pt-6 pb-1 overflow-y-auto"},Rt=t("div",{class:"w-full px-3 border-b border-gray-200"},null,-1),St={class:"mt-1 flex-1 bg-white space-y-1"},At=t("div",{class:"w-full px-3 my-1 border-b border-gray-200"},null,-1),kt={key:0},Nt=t("div",{class:"w-full px-3 my-1 border-b border-gray-200"},null,-1),Tt={class:"flex flex-col w-0 flex-1 overflow-hidden"},zt={class:"lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3"},Dt=t("span",{class:"sr-only"},"Open sidebar",-1),Lt={class:"flex-1 relative z-0 overflow-y-auto focus:outline-none"},jt={key:0,class:"max-w-screen-xl sm:py-6 mx-auto sm:px-6 rounded-md"},Pt={setup(e){const o=L(),r=P(),m=W(),s=[{name:"overview",routeName:"overview",icon:ke},{name:"team",routeName:"org-management-detail",icon:Ne},{name:"sites",routeName:"sites",icon:Te},{name:"rooms",routeName:"rooms",icon:ze},{name:"nodes",routeName:"sensors",icon:De}],i=u=>r.name===u,a=C(!1),d=x(()=>r.params.orgId),E=x(()=>o.getters["authuser/isLoading"]),y=x(()=>typeof d.value=="string");return F(async()=>{await o.dispatch("authuser/fetchAuthenticatedUser")}),q(()=>r.params.orgId,async u=>{y.value?(console.log(`Organization changed to orgId ${u}. Fetching related data...`),o.dispatch("jv/get",`organizations/${u}`),m.push({name:"",params:{orgId:u}})):console.log("Entering a route outside of an organization context.")}),(u,p)=>{const b=T("router-link"),g=T("router-view");return c(),_("div",ut,[l(n(Ee),{as:"template",show:a.value},{default:f(()=>[l(n(Re),{as:"div",class:"fixed inset-0 flex z-40 lg:hidden",onClose:p[1]||(p[1]=h=>a.value=!1)},{default:f(()=>[l(n(V),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>[l(n(Se),{class:"fixed inset-0 bg-gray-600 bg-opacity-75"})]),_:1}),l(n(V),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:f(()=>[t("div",gt,[l(n(V),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>[t("div",pt,[t("button",{type:"button",class:"ml-1 flex items-center justify-center h-10 w-10 rounded-full como-focus",onClick:p[0]||(p[0]=h=>a.value=!1)},[ht,l(n(Ae),{class:"h-6 w-6 text-white","aria-hidden":"true"})])])]),_:1}),t("div",_t,[l(Y),ft,t("nav",vt,[l(X),l(Q,{class:"py-1"}),yt,n(y)?(c(),_("div",bt,[(c(),_(A,null,D(s,h=>l(b,{key:h.name,to:{name:h.routeName,params:{orgId:n(d)}},class:$([i(h.routeName)?"bg-indigo-50 text-indigo-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900","group flex items-center px-2 py-2 text-base font-medium rounded-md como-focus"])},{default:f(()=>[(c(),I(z(h.icon),{class:$([i(h.routeName)?"text-indigo-900":"text-gray-500 group-hover:text-gray-600","mr-4 flex-shrink-0 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),O(" "+v(u.$t(h.name)),1)]),_:2},1032,["to","class"])),64))])):S("",!0),xt,l(J)])])])]),_:1}),wt]),_:1})]),_:1},8,["show"]),t("div",Ot,[t("div",$t,[t("div",Et,[t("div",It,[l(Y),Rt,t("nav",St,[l(X),l(Q,{class:"py-1"}),At,n(y)?(c(),_("div",kt,[(c(),_(A,null,D(s,h=>l(b,{key:h.name,to:{name:h.routeName,params:{orgId:n(d)}},class:$([i(h.routeName)?"bg-indigo-50 text-indigo-900 font-bold":"text-gray-700 hover:bg-gray-100 hover:text-gray-900","group flex items-center my-1 px-2 py-4 text-sm font-medium rounded-md como-focus"])},{default:f(()=>[(c(),I(z(h.icon),{class:$([i(h.routeName)?"text-indigo-900":"text-gray-500 group-hover:text-gray-600","mr-3 flex-shrink-0 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),O(" "+v(u.$t(h.name)),1)]),_:2},1032,["to","class"])),64))])):S("",!0)]),Nt,l(J,{class:"w-full"})])])])]),t("div",Tt,[t("div",zt,[t("button",{type:"button",class:"-ml-0.5 -mt-0.5 mb-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 como-focus",onClick:p[2]||(p[2]=h=>a.value=!0)},[Dt,l(n(Ie),{class:"h-6 w-6","aria-hidden":"true"})])]),t("main",Lt,[n(E)?S("",!0):(c(),_("div",jt,[l(g)]))])])])}}},Ct="modulepreload",ee={},Mt="/",w=function(o,r){return!r||r.length===0?o():Promise.all(r.map(m=>{if(m=`${Mt}${m}`,m in ee)return;ee[m]=!0;const s=m.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${i}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":Ct,s||(a.as="script",a.crossOrigin=""),a.href=m,document.head.appendChild(a),s)return new Promise((d,E)=>{a.addEventListener("load",d),a.addEventListener("error",E)})})).then(()=>o())},Ft=t("div",{class:"bg-white shadow-md p-4 rounded-md max-w-xl mx-auto"},[t("pre",null,"VIEW DESCRIPTION (will be removed)"),O(" This view will provide the latest sensor readings at a glance for all sites, rooms, and installations of an organization. For example, as a list with all installations, a traffic-light display and the latest sensor reading, plus links to the corresponding detail view. ")],-1),Vt={key:0},Ut={key:1,class:"mx-2"},Bt=t("h2",{class:"font-bold text-xl mt-8"},"Active Installations",-1),Ht={class:""},Gt={key:0},Kt={role:"list",class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},Wt={class:"w-full flex flex-col"},qt={class:"p-6"},Yt={class:""},Zt={class:"flex justify-between"},Xt={class:"text-lg font-semibold text-gray-900"},Jt=O(" / "),Qt=["data-tip"],eo={key:0,class:"text-gray-600"},to=t("div",null,"most recent measurement: TODO",-1),oo=O("View CO2 chart "),so={key:1,class:"shadow-md mt-4 rounded-md max-w-sm flex items-center bg-yellow-50 border-l-4 border-yellow-400 p-4"},ao={class:"flex"},no={class:"flex-shrink-0"},ro={class:"ml-3"},io=O(" This organization has no active installations. "+v(" ")),lo=O(" Click here to add one "),co={setup(e){const o=P(),r=L(),m=C(!0),s=x(()=>o.params.orgId);F(async()=>y()),q(s,()=>y());const i=C(void 0),a=x(()=>{var u;return(u=i.value)==null?void 0:u.filter(p=>p.from_timestamp_s<=p.query_timestamp_s&&p.to_timestamp_s>=p.query_timestamp_s)}),d=x(()=>{var u;return!!((u=a==null?void 0:a.value)==null?void 0:u.length)}),E=u=>u?"This installation is public.":"This installation is not public.",y=async()=>{m.value=!0;const u=await r.dispatch("jv/get",["installations",{params:{"filter[organization]":s.value}}]),p=Object.entries(u);i.value=p.map(([,g])=>g);const b=p.map(([g,h])=>(console.log(`Get related objects for installation ${g}.`),r.dispatch("jv/getRelated",`installations/${g}`).then(()=>{typeof h.room=="object"&&r.dispatch("jv/getRelated",`rooms/${h.room._jv.id}`)})));await Promise.all(b),m.value=!1};return(u,p)=>{const b=T("router-link");return c(),_(A,null,[Ft,m.value?(c(),_("div",Vt,"loading...")):(c(),_("div",Ut,[Bt,t("div",Ht,[n(d)?(c(),_("div",Gt,[t("ul",Kt,[(c(!0),_(A,null,D(n(a),g=>{var h,U,B;return c(),_("li",{key:g._jv.id,class:"col-span-1 bg-white shadow-md mt-4 rounded-md hover:shadow-lg"},[t("div",Wt,[t("div",qt,[t("div",Yt,[t("div",Zt,[t("div",Xt,[l(b,{to:{name:"sensor",params:{sensorId:g.node._jv.id}},class:"link"},{default:f(()=>{var R,N;return[O(v(((R=g.node)==null?void 0:R.alias)||((N=g.node)==null?void 0:N.eui64)),1)]}),_:2},1032,["to"]),Jt,l(b,{to:{name:"room",params:{roomId:g.room._jv.id}},class:"link"},{default:f(()=>{var R;return[O(v((R=g.room)==null?void 0:R.name),1)]}),_:2},1032,["to"])]),t("div",{"data-tip":E(g==null?void 0:g.is_public),class:"tooltip h-6 w-6"},[(g==null?void 0:g.is_public)?(c(),I(n(Le),{key:0})):(c(),I(n(je),{key:1}))],8,Qt)]),g.description?(c(),_("div",eo,v(u.$t("description"))+": "+v(g.description),1)):S("",!0),t("div",null,v(u.$t("node.installedOn"))+" "+v(n(K).unix(g.from_timestamp_s).format("YYYY-MM-DD")),1),t("div",null,[O(v(u.$t("site.singular"))+": ",1),l(b,{to:{name:"site",params:{siteId:((B=(U=(h=g.room)==null?void 0:h.site)==null?void 0:U._jv)==null?void 0:B.id)||1}},class:"link"},{default:f(()=>{var R,N;return[O(v((N=(R=g.room)==null?void 0:R.site)==null?void 0:N.name),1)]}),_:2},1032,["to"])]),to])]),l(b,{to:{name:"installation",params:{installationId:g._jv.id}},class:"bg-gradient-to-t from-indigo-700 to-blue-500 p-4 m-6 mt-0 text-center hover:ring rounded-md font-semibold text-indigo-100"},{default:f(()=>[oo]),_:2},1032,["to"])])])}),128))])])):(c(),_("div",so,[t("div",ao,[t("div",no,[l(n(Pe),{class:"h-5 w-5 text-yellow-400","aria-hidden":"true"})]),t("div",ro,[io,l(b,{to:"#",class:"font-medium underline text-yellow-700 hover:text-yellow-600"},{default:f(()=>[lo]),_:1})])])]))])]))],64)}}},mo={key:0,class:"bg-white shadow-md sm:rounded-md"},uo={class:"max-w-screen-xl px-4 py-6 mx-auto sm:px-6 lg:px-8"},go={class:"text-3xl font-bold leading-tight text-gray-900"},po={class:"max-w-screen-xl py-6 mx-auto rounded-md"},te={setup(e){const o=P(),r=W(),m=L(),s=x(()=>o.params.orgId),i=x(()=>typeof s.value=="string"),a=x(()=>i.value?m.getters["jv/get"]({_jv:{type:"Organization",id:s.value}}):{name:"org.none"});return F(()=>{if(o.name==="dashboard"){const d=m.getters["authuser/getMemberships"];if((d==null?void 0:d.length)>0){const E=d[0].orgId;r.push({name:"overview",params:{orgId:E}})}else r.push({name:"org-management-add"})}}),(d,E)=>{const y=T("router-view");return c(),_("div",null,[d.$route.meta.title?(c(),_("header",mo,[t("div",uo,[t("h1",go,v(n(a).name)+" \u2013 "+v(d.$t(n(o).meta.title)),1)])])):S("",!0),t("div",po,[l(y)])])}}},ho=()=>w(()=>import("./Organizations.15448ef4.js"),["assets/Organizations.15448ef4.js","assets/vendor.2f240eb0.js","assets/index.8fc35793.js"]),_o=()=>w(()=>import("./Organization.e56a4b2c.js"),["assets/Organization.e56a4b2c.js","assets/vendor.2f240eb0.js","assets/index.8fc35793.js"]),fo=()=>w(()=>import("./AddOrganization.b6efe542.js"),["assets/AddOrganization.b6efe542.js","assets/vendor.2f240eb0.js"]),vo=()=>w(()=>import("./EditOrganization.c739e2e1.js"),["assets/EditOrganization.c739e2e1.js","assets/vendor.2f240eb0.js"]),yo=()=>w(()=>import("./NotFound.3c288861.js"),["assets/NotFound.3c288861.js","assets/plugin-vue_export-helper.5a098b48.js","assets/vendor.2f240eb0.js"]),bo=()=>w(()=>import("./Sites.2e705ade.js"),["assets/Sites.2e705ade.js","assets/vendor.2f240eb0.js"]),xo=()=>w(()=>import("./Site.c34055ab.js"),["assets/Site.c34055ab.js","assets/vendor.2f240eb0.js"]),wo=()=>w(()=>import("./AddSite.67afc04d.js"),["assets/AddSite.67afc04d.js","assets/vendor.2f240eb0.js"]),Oo=()=>w(()=>import("./AddRoom.79adfbe4.js"),["assets/AddRoom.79adfbe4.js","assets/vendor.2f240eb0.js"]),$o=()=>w(()=>import("./Rooms.901b75f1.js"),["assets/Rooms.901b75f1.js","assets/vendor.2f240eb0.js"]),Eo=()=>w(()=>import("./Room.c4a98c19.js"),["assets/Room.c4a98c19.js","assets/vendor.2f240eb0.js"]),Io=()=>w(()=>import("./Installation.96c21ad7.js"),["assets/Installation.96c21ad7.js","assets/vendor.2f240eb0.js"]),Ro=()=>w(()=>import("./AddInstallation.0c7d5efe.js"),["assets/AddInstallation.0c7d5efe.js","assets/plugin-vue_export-helper.5a098b48.js","assets/vendor.2f240eb0.js"]),So=()=>w(()=>import("./Sensors.85fbee2e.js"),["assets/Sensors.85fbee2e.js","assets/vendor.2f240eb0.js"]),Ao=()=>w(()=>import("./Sensor.69905926.js"),["assets/Sensor.69905926.js","assets/plugin-vue_export-helper.5a098b48.js","assets/vendor.2f240eb0.js"]),ko=()=>w(()=>import("./Logout.65c8ad7c.js"),["assets/Logout.65c8ad7c.js","assets/vendor.2f240eb0.js"]),No=[{path:"/",redirect:"/dashboard"},{path:"/dashboard",name:"dashboard",component:te},{path:"/dashboard/:orgId",name:"home",component:te,props:!0,meta:{title:"org.singular"},children:[{path:"",name:"overview",component:co,meta:{title:"overview"}},{path:"installation/:installationId",name:"installation",component:Io,meta:{title:"installation.details"}},{path:"sites",name:"sites",component:bo,meta:{title:"sites"}},{path:"sites/addSite",name:"addSite",component:wo,meta:{title:"site.add"}},{path:"sites/:siteId",name:"site",component:xo,meta:{title:"site.details"}},{path:"sites/:siteId/addRoom",name:"addRoom",component:Oo,meta:{title:"room.add"}},{path:"rooms",name:"rooms",component:$o,meta:{title:"rooms"}},{path:"rooms/:roomId",name:"room",component:Eo,meta:{title:"room.details"}},{path:"rooms/:roomId/addInstallation",name:"addInstallation",component:Ro,meta:{title:"installation.add"}},{path:"sensors",name:"sensors",component:So,meta:{title:"nodes"}},{path:"sensors/:sensorId",name:"sensor",component:Ao,meta:{title:"node.details"}}]},{path:"/org-management",name:"org-management",meta:{title:"org.manage"},component:ho},{path:"/org-management/:orgId",name:"org-management-detail",meta:{title:"org.detail"},component:_o},{path:"/org-management/:orgId/edit",name:"org-management-edit",meta:{title:"org.edit"},component:vo},{path:"/org-management/add",name:"org-management-add",meta:{title:"org.add"},component:fo},{path:"/accounts/email",name:"change-email",beforeEnter(){window.location.href="/accounts/email"}},{path:"/accounts/password/change",name:"change-password",beforeEnter(){window.location.href="/accounts/password/change"}},{path:"/logout",name:"logout",meta:{title:"user.logout"},component:ko},{path:"/:pathMatch(.*)",component:yo}];function To(){return{error:void 0,userIsLoading:!0,membershipsAreLoading:!0,id:void 0,email:void 0,firstName:void 0,lastName:void 0,userName:void 0,memberships:[]}}const zo={logout(){return k.post("/api/v1/auth/logout/")},async fetchMemberships(e){e.commit("START_MEMBERSHIPSLOADING");try{const o=e.getters.getId,r=await e.dispatch("jv/get",`users/${o}/memberships`,{root:!0}),m=Object.keys(r).map(s=>{const i=r[s],a=i._jv.attrs;return{id:s,role:a.role,orgName:a.organization_name,orgId:i._jv.relationships.organization.data.id}});e.commit("SET_MEMBERSHIPS",m||[])}catch(o){throw e.commit("MARK_ERROR"),o}finally{e.commit("STOP_MEMBERSHIPSLOADING")}},async fetchAuthenticatedUser(e){e.commit("START_USERLOADING");try{const r=(await k.get("/api/v1/auth/user")).data.data.id,m=await e.dispatch("jv/get",`users/${r}/`,{root:!0});e.commit("SET_ID",r),e.commit("SET_AUTHUSER",m._jv.attrs),await e.dispatch("fetchMemberships"),e.commit("MARK_SUCCESS")}catch(o){throw e.commit("MARK_ERROR"),o}finally{e.commit("STOP_USERLOADING")}}},Do={isLoggedIn(e){return e.id!==null&&M.get("csrftoken")},isLoading(e){return e.userIsLoading||e.membershipsAreLoading},isError(e){return e.error},getId(e){return e.id?e.id:void 0},getInfo(e){return e.id?{id:e.id,email:e.email,firstName:e.firstName,lastName:e.lastName,userName:e.userName}:void 0},getMemberships(e){return e.id?e.memberships:[]},getMembershipByOrgId:e=>o=>e.memberships.find(r=>r.orgId===o)},Lo={START_USERLOADING(e){e.userIsLoading=!0},STOP_USERLOADING(e){e.userIsLoading=!1},START_MEMBERSHIPSLOADING(e){e.membershipsAreLoading=!0},STOP_MEMBERSHIPSLOADING(e){e.membershipsAreLoading=!1},MARK_ERROR(e){e.error=!0},MARK_SUCCESS(e){e.error=!1},SET_ID(e,o){e.id=o},SET_AUTHUSER(e,{email:o,first_name:r,last_name:m,username:s}){e.email=o,e.firstName=r,e.lastName=m,e.userName=s},SET_MEMBERSHIPS(e,o){e.memberships=[],e.memberships.push(...o)}},jo={namespaced:!0,actions:zo,getters:Do,mutations:Lo,state:To};k.defaults.xsrfHeaderName="X-CSRFToken";k.defaults.xsrfCookieName="csrftoken";const oe=k.create({baseURL:"/api/v1/",headers:{"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json, application/json, text/plain, */*"},xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFTOKEN"}),se=e=>{console.log(e),e.response.status===401&&(window.location.href=window.location.origin+"/accounts/login/"),Promise.reject(e)};oe.interceptors.response.use(e=>e,e=>se(e));k.interceptors.response.use(e=>e,e=>se(e));const Po=Ce({modules:{authuser:jo,jv:Me(oe)}}),Co="Action",Mo="Actions",Fo="Add",Vo={city:"City",createError:"Failed to create the address!",singular:"Address",street1:"Street and Number",street2:"Routing Extension",zip:"Zip-Code"},Uo="Cancel",Bo="Day",Ho="Description",Go="Edit",Ko="Email",Wo="Inspect",qo={add:"Add Installation",details:"Installation Details",terminate:"Terminate Installation"},Yo="Installations",Zo="Leave",Xo="Month",Jo="Name",Qo="Next",es={addNode:"Add a sensor",details:"Sensor Details",identifier:"Sensor-ID",installedOn:"Installed on",isPublic:"Data public?",name:"Sensor Name",noNode:"The selected organization has no sensors",removedOn:"Removed on",singular:"Sensor"},ts="Sensors",os="Now",ss="of",as="ongoing",ns="Options",rs={add:"Add Organization",addSite:"Add a site",all:"All your Organizations",create:"Create Organization",createError:"Failed to create the organization!",delete:"Delete Organization",details:"Organization Details",edit:"Edit Organization",invite:"Invite Members",manage:"Manage Organizations",members:"Members",name:"Organization Name",none:"No Organization",noSite:"The selected organization has no sites",plural:"Organizations",singular:"Organization",switch:"Switch Organization",updateError:"Failed to update the organization!"},is="Overview",ls="CO2-Concentration [PPM]",ds="Previous",cs="Remove",ms={assistant:"Assistant",change:"Change Role",inspector:"Inspector",owner:"Owner",singular:"Role",your:"Your Role"},us={add:"Add Room",addRoomToSite:"Add Room to Site",createError:"Failed to create the room!",details:"Room Details",height:"Height",maxOccupancy:"Maximum Occupancy [Persons]",name:"Room Name",noRoom:"The selected organization has no rooms",sensor:"Sensor",siteForRoom:"Select a site to add a room",size:"Size",updateError:"Failed to update the room!"},gs="Rooms",ps={add:"Add Site",createError:"Failed to create the site!",details:"Site Details",missingNameAddress:"Site name and address must be provided!",name:"Site Name",noRooms:"This site has no rooms",singular:"Site",update:"Update",updateError:"Failed to update the site!"},hs="Sites",_s="Team",fs="Time",vs="Update",ys={"change-email":"Change your email","change-password":"Change password",logout:"Logout",plural:"Users",settings:"User Settings",singular:"User"},bs="Week";var xs={"404":{home:"Back to home",msg:"Oops! Nothing to see here"},action:Co,actions:Mo,add:Fo,address:Vo,cancel:Uo,day:Bo,delete:"Delete","delete-org-modal":{message:"Are you sure you want to delete this organization? This action cannot be undone!",title:"Delete Organization"},description:Ho,edit:Go,email:Ko,inspect:Wo,installation:qo,installations:Yo,leave:Zo,"loading...":"loading...","logging-out":"You are being logged out",month:Xo,name:Jo,next:Qo,node:es,nodes:ts,now:os,of:ss,ongoing:as,options:ns,org:rs,overview:is,ppm:ls,previous:ds,remove:cs,role:ms,room:us,rooms:gs,site:ps,sites:hs,team:_s,time:fs,update:vs,user:ys,week:bs};const ws="Aktion",Os="Aktionen",$s="Hinzuf\xFCgen",Es={city:"Stadt",createError:"Fehler beim Anlegen der Adresse!",singular:"Adresse",street1:"Stra\xDFe und Hausnummer",street2:"Adressdetails",zip:"Postleitzahl"},Is="Abbrechen",Rs="Tag",Ss="Beschreibung",As="Bearbeiten",ks="E-Mail",Ns="Verlassen",Ts="Details",zs={add:"Installation Hinzuf\xFCgen",details:"Installationsdetails",terminate:"Installation beenden"},Ds="Installationen",Ls="Monat",js="Name",Ps="Weiter",Cs={addNode:"Sensor hinzuf\xFCgen",details:"Sensordetails",identifier:"Sensor-ID",installedOn:"installiert am",isPublic:"Daten \xF6ffentlich?",name:"Sensorname",noNodes:"Die gew\xE4hlte Organisation verf\xFCgt \xFCber keine Sensoren",removedOn:"Entfernt am",singular:"Sensor"},Ms="Sensoren",Fs="Jetzt",Vs="von",Us="laufend",Bs="Optionen",Hs={add:"Organisation hinzuf\xFCgen",addSite:"Ort hinzuf\xFCgen",all:"All Ihre Organisationen",create:"Organisation hinzuf\xFCgen",createError:"Fehler beim Anlegen der Organisation!",delete:"Organisation l\xF6schen",details:"Organisationsdetails",edit:"Organisation editieren",invite:"Mitglieder einladen",manage:"Organisationen verwalten",members:"Mitglieder",name:"Organisationsname",none:"Keine Organisation",noSite:"Die gew\xE4hlte Organisation verf\xFCgt \xFCber keine Orte",plural:"Organisationen",singular:"Organisation",switch:"Organisation wechseln",updateError:"Fehler beim Aktualisieren der Organisation!"},Gs="\xDCberblick",Ks="Zur\xFCck",Ws="CO<sub>2</sub> Gehalt in ppm",qs="Entfernen",Ys={assistant:"Assistent",change:"Rolle \xE4ndern",inspector:"Inspekteur",owner:"Besitzer",singular:"Rolle",your:"Ihre Rolle"},Zs={add:"Raum hinzuf\xFCgen",addRoomToSite:"Raum hinzuf\xFCgen zum Ort",createError:"Fehler beim Anlegen des Raumes!",details:"Raumdetails",height:"H\xF6he",maxOccupancy:"Maximale Belegung [Personen]",name:"Raumname",noRoom:"Die gew\xE4hlte Organisation hat keine R\xE4ume",sensor:"Sensor",siteForRoom:"W\xE4hle einen Ort aus, um in diesem R\xE4ume anzulegen",size:"Gr\xF6\xDFe",updateError:"Fehler beim Aktualisieren des Raums!"},Xs="R\xE4ume",Js={add:"Ort hinzuf\xFCgen",createError:"Fehler beim Anlegen des Orts!",details:"Ort-Details",missingNameAddress:"Name und Adresse des Orts m\xFCssen angegeben werden!",name:"Name des Orts",noRooms:"Dieser Ort hat noch keine R\xE4ume.",singular:"Ort",update:"Aktualisieren",updateError:"Fehler beim Aktualisieren des Orts!"},Qs="Orte",ea="Team",ta="Zeit",oa="Aktualisieren",sa={"change-email":"Email-Adresse \xE4ndern","change-password":"Passwort \xE4ndern",logout:"Ausloggen",plural:"Nutzer",settings:"Nutzereinstellungen",singular:"Nutzer"},aa="Woche";var na={"404":{home:"Zur\xFCck zur Startseite",msg:"Huch! Hier ist nichts"},action:ws,actions:Os,add:$s,address:Es,cancel:Is,day:Rs,delete:"L\xF6schen","delete-org-modal":{message:"Sind Sie sicher, dass diese Organisation gel\xF6scht werden soll? Diese Aktion kann nicht r\xFCckg\xE4nging gemacht werden!",title:"Organisation l\xF6schen"},description:Ss,edit:As,email:ks,leave:Ns,"loading...":"l\xE4dt...","logging-out":"Sie werden ausgeloggt...",inspect:Ts,installation:zs,installations:Ds,month:Ls,name:js,next:Ps,node:Cs,nodes:Ms,now:Fs,of:Vs,ongoing:Us,options:Bs,org:Hs,overview:Gs,previous:Ks,ppm:Ws,remove:qs,role:Ys,room:Zs,rooms:Xs,site:Js,sites:Qs,team:ea,time:ta,update:oa,user:sa,week:aa},ra={en:xs,de:na};const ia=Fe({history:Ve(),routes:No}),la=Ue.exports.createI18n({locale:"de",fallbackLocale:["de","en"],messages:ra}),j=Be(Pt);j.use(ia);j.use(Po);j.use(la);j.use(He);j.mount("#app");
