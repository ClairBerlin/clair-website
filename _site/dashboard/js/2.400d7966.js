(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"713b":function(g,I,t){"use strict";t.r(I);var M=function(){var g=this,I=g.$createElement,M=g._self._c||I;return M("q-layout",{attrs:{view:"hHh Lpr lFf"}},[M("q-header",{attrs:{elevated:""}},[M("q-toolbar",[g.isLoggedIn()?M("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(I){g.leftDrawerOpen=!g.leftDrawerOpen}}}):g._e(),M("img",{staticClass:"clair-logo",attrs:{src:t("96b7")}}),M("q-toolbar-title",{staticClass:"clair-title"},[g._v("\n        Clair Admin UI\n      ")]),M("q-btn-dropdown",{attrs:{round:"",dense:"",flat:"",color:"white",label:g.$i18n.locale}},[M("q-list",{staticStyle:{"min-width":"100px"}},g._l(g.langOptions,(function(I){return M("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:I.value,attrs:{clickable:""},on:{click:function(t){return g.setLang(I.value)}}},[M("q-item-section",[M("q-item-label",[g._v(g._s(I.label))])],1)],1)})),1)],1),g.isLoggedIn()?M("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"fas fa-sign-out-alt"},on:{click:function(I){return g.logout()}}}):g._e()],1)],1),g.isLoggedIn()?M("q-drawer",{attrs:{"show-if-above":"",width:220,breakpoint:500,bordered:""},model:{value:g.leftDrawerOpen,callback:function(I){g.leftDrawerOpen=I},expression:"leftDrawerOpen"}},[M("div",{staticClass:"q-pa-md row flex-center"},[g.orgs.length>1?M("q-btn-dropdown",{attrs:{label:g.selectedOrg}},[M("q-list",{staticStyle:{"min-width":"100px"}},g._l(g.orgs,(function(I){return M("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:I,attrs:{"v-model":g.selected,clickable:""},on:{click:function(t){g.selectedOrg=I}}},[M("q-item-section",[M("q-item-label",[g._v(g._s(I))])],1)],1)})),1)],1):M("q-btn",{attrs:{disable:"",label:g.selectedOrg}})],1),M("q-separator"),M("q-list",[M("q-expansion-item",{key:"manage",attrs:{label:g.$t("Manage"),icon:"settings","default-opened":""}},[g._l(g.manageItems,(function(I,t){return[M("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t,attrs:{"inset-level":.5,clickable:"",acive:g.selected===I.link,to:I.link},on:{click:function(t){g.selected=I.link}}},[M("q-item-section",{attrs:{avatar:""}},[M("q-icon",{attrs:{name:I.icon}})],1),M("q-item-section",[g._v("\n              "+g._s(g.$t(I.label))+"\n            ")])],1)]}))],2),M("q-separator"),g._l(g.items,(function(I,t){return[M("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t,attrs:{clickable:"",acive:g.selected===I.link,to:I.link},on:{click:function(t){g.selected=I.link}}},[M("q-item-section",{attrs:{avatar:""}},[M("q-icon",{attrs:{name:I.icon}})],1),M("q-item-section",[g._v("\n            "+g._s(g.$t(I.label))+"\n          ")])],1)]}))],2)],1):g._e(),M("q-page-container",[M("router-view")],1)],1)},i=[],e=(t("e6cf"),t("a79d"),t("ded3")),N=t.n(e),a=t("215a"),s=t("1f91"),l=t("2f62");class A{constructor(g,I,t){this.icon=g,this.label=I,this.link=t}}const c=[new A("fa fa-sitemap","Organizations","organizations"),new A("fa fa-map-marker","Locations","locations"),new A("fa fa-cube","Rooms","rooms"),new A("fa fa-thermometer-half","Sensors","sensors"),new A("fa fa-tools","Installations","installations")],C=[new A("feedback","Feedback","feedback"),new A("help","Help","help")],n=[],j="-";var o={name:"MainLayout",data(){return{leftDrawerOpen:!0,langOptions:[{value:"en",label:"English"},{value:"de",label:"Deutsch"}],selected:"dashboard",items:C,manageItems:c,orgs:n,selectedOrg:j}},computed:N()({},Object(l["c"])({getUserById:"users/byId",getOrgsRelated:"organizations/related"})),mounted(){this.isLoggedIn()&&this.loadUserOrgs()},methods:N()(N()({},Object(l["b"])({loadUserById:"users/loadById",loadOrgsRelated:"organizations/loadRelated"})),{},{loadUserOrgs:async function(){const g=await this.$store.dispatch("user/getUserId");await this.loadUserById({id:g});let I={type:"users",id:g};await this.loadOrgsRelated({parent:I});const t=this.getOrgsRelated({parent:I});console.log(t);const M=t.map((g=>this.truncateName(g.attributes.name)));this.orgs=M,this.selectedOrg=M[0]},truncateName(g,I=15){return g.length>I?g.substring(0,I)+" ...":g},setLang(g){this.$i18n.locale=g,this.$q.lang.set("en"===g?s["a"]:a["a"])},isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},logout(){this.$q.loading.show(),this.$store.dispatch("user/logout").then((()=>(this.$q.cookies.remove("csrftoken"),this.$router.push({name:"login"})))).catch((g=>{console.log(g),this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:this.$t("Logout failed").toString()})})).finally((()=>this.$q.loading.hide()))}})},L=o,u=(t("cde7"),t("2877")),D=t("4d5a"),T=t("e359"),z=t("65c6"),d=t("9c40"),r=t("6ac5"),w=t("f20b"),y=t("1c1c"),m=t("66e5"),O=t("4074"),Y=t("0170"),b=t("9404"),Z=t("eb85"),p=t("3b73"),S=t("0016"),x=t("09e3"),k=t("7f67"),E=t("714f"),Q=t("eebe"),U=t.n(Q),h=Object(u["a"])(L,M,i,!1,null,"313cfee6",null);I["default"]=h.exports;U()(h,"components",{QLayout:D["a"],QHeader:T["a"],QToolbar:z["a"],QBtn:d["a"],QToolbarTitle:r["a"],QBtnDropdown:w["a"],QList:y["a"],QItem:m["a"],QItemSection:O["a"],QItemLabel:Y["a"],QDrawer:b["a"],QSeparator:Z["a"],QExpansionItem:p["a"],QIcon:S["a"],QPageContainer:x["a"]}),U()(h,"directives",{ClosePopup:k["a"],Ripple:E["a"]})},"96b7":function(g,I){g.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iNTUuMjY3MjM1bW0iCiAgIGhlaWdodD0iNDAuMjg3MTU5bW0iCiAgIHZpZXdCb3g9IjAgMCA1NS4yNjcyMzcgNDAuMjg3MTYiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzgiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuNSAoMjA2MGVjMWY5ZiwgMjAyMC0wNC0wOCkiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImNsYWlyLWNsb3VkLnN2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczIiPgogICAgPGlua3NjYXBlOnBhdGgtZWZmZWN0CiAgICAgICBlZmZlY3Q9ImJzcGxpbmUiCiAgICAgICBpZD0icGF0aC1lZmZlY3Q4MjMiCiAgICAgICBpc192aXNpYmxlPSJ0cnVlIgogICAgICAgd2VpZ2h0PSIzMy4zMzMzMzMiCiAgICAgICBzdGVwcz0iMiIKICAgICAgIGhlbHBlcl9zaXplPSIwIgogICAgICAgYXBwbHlfbm9fd2VpZ2h0PSJ0cnVlIgogICAgICAgYXBwbHlfd2l0aF93ZWlnaHQ9InRydWUiCiAgICAgICBvbmx5X3NlbGVjdGVkPSJmYWxzZSIgLz4KICAgIDxpbmtzY2FwZTpwYXRoLWVmZmVjdAogICAgICAgZWZmZWN0PSJic3BsaW5lIgogICAgICAgaWQ9InBhdGgtZWZmZWN0ODE5IgogICAgICAgaXNfdmlzaWJsZT0idHJ1ZSIKICAgICAgIHdlaWdodD0iMzMuMzMzMzMzIgogICAgICAgc3RlcHM9IjIiCiAgICAgICBoZWxwZXJfc2l6ZT0iMCIKICAgICAgIGFwcGx5X25vX3dlaWdodD0idHJ1ZSIKICAgICAgIGFwcGx5X3dpdGhfd2VpZ2h0PSJ0cnVlIgogICAgICAgb25seV9zZWxlY3RlZD0iZmFsc2UiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSIyLjE5MTIxNDkiCiAgICAgaW5rc2NhcGU6Y3g9Ii0yMC41OTc0MjEiCiAgICAgaW5rc2NhcGU6Y3k9Ijk0LjgzODYyMiIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE4NDgiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAxNiIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iNzIiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI3IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgZml0LW1hcmdpbi10b3A9IjAiCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIgogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjAiCiAgICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQ4NzciCiAgICAgICBvcmlnaW54PSItMjYuMDM3MTUyIgogICAgICAgb3JpZ2lueT0iLTMxLjkwMDAwNyIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE1Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJFYmVuZSAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDMuNTU0MTU5LC04OS4xMDg4ODgpIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDowLjk5OTk5OTk0cHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gMTgyLjY3NzczLDEyNS42MjEwOSBjIC0xLjg4NjM3LC0wLjAxNjggLTMuODIzMjEsMC4wODY3IC01LjgwMjczLDAuMzI2MTggLTE1LjgzNjEzLDEuOTE2MiAtMzQuMzI5NiwxMi41NzQxMyAtNDAuMzg0NzcsMjQuNDcwNyAtNi4wNTUxNiwxMS44OTY1NyAwLjMzMDEzLDI1LjAyNDgyIC01LjM3Njk1LDMxLjE1ODIgLTUuNzA3MDgsNi4xMzMzOCAtMjMuNTA3MDksNS4yNjkyNyAtMjkuODI0MjIsMjIuMDYyNSAtNi4zMTcxMjksMTYuNzkzMjQgLTEuMTQ4NjUsNTEuMjQ2OTYgMjkuMDgzOTksNjUuMTI2OTUgMzAuMjMyNjMsMTMuODggODUuNTI4NjEsNy4xODU1OCAxMTkuMjkxMDEsMC4xMDE1NyAzMy43NjI0MSwtNy4wODQwMiA0NS45OTAwMywtMTQuNTU3NDUgNTIuMzM5ODUsLTMyLjQyMTg4IDYuMzQ5ODIsLTE3Ljg2NDQzIDYuODIyLC00Ni4xMTg2NCAtMS4zNTE1NywtNjUuMTQyNTggLTguMTczNTcsLTE5LjAyMzk0IC0yNC45OTMwNywtMjguODE4NjQgLTQxLjI3MTQ4LC0yOS4zNTkzNyAtMTYuMjc4NDEsLTAuNTQwNzMgLTMyLjAxNzI4LDguMTczNzEgLTM4LjY0NjQ4LDkuMDA1ODYgLTYuNjI5MjEsMC44MzIxNCAtNC4xNDczMSwtNi4yMTY5OCAtOS40OTYxLC0xMy4xNTQzIC00LjY4MDE5LC02LjA3MDE1IC0xNS4zNTU5NSwtMTIuMDU2IC0yOC41NjA1NSwtMTIuMTczODMgeiBtIC0xNy4zNTc0Miw1OC4wMzEyNSBjIDIuNTg5NDMsMCA0LjQ0NzY2LDEuNTQzMTUgNS40MDIzNSwyLjc0NjEgMC45NTQ2OCwxLjIwMjk1IDEuNDM0NjgsMi4zNTc0MiAxLjgzNzg5LDMuNTU4NTkgMC44MDY0LDIuNDAyMzggMS4xNjAxNSw1LjA3NDkgMS4xNjAxNSw4LjAzMTI1IDAsMi45NTYzNSAtMC4zNTM3NCw1LjYzNjY4IC0xLjE2MDE1LDguMDM5MDYgLTAuNDAzMjEsMS4yMDEyMSAtMC44ODMyMSwyLjM0Nzg0IC0xLjgzNzg5LDMuNTUwNzggLTAuOTU0NjksMS4yMDI5NSAtMi44MTI5MiwyLjc0NjEgLTUuNDAyMzUsMi43NDYxIC0yLjU4OTQyLDAgLTQuNDQ5NjEsLTEuNTQzMTUgLTUuNDA0MjksLTIuNzQ2MSAtMC45NTQ2OSwtMS4yMDI5NCAtMS40MzQ2OSwtMi4zNDk1NyAtMS44Mzc5LC0zLjU1MDc4IC0wLjgwNjQsLTIuNDAyMzggLTEuMTU4MiwtNS4wODI3MSAtMS4xNTgyLC04LjAzOTA2IDAsLTIuOTU2MzUgMC4zNTE3OSwtNS42Mjg4NyAxLjE1ODIsLTguMDMxMjUgMC40MDMyMSwtMS4yMDExNyAwLjg4MzIxLC0yLjM1NTY0IDEuODM3OSwtMy41NTg1OSAwLjk1NDY4LC0xLjIwMjk1IDIuODE0ODcsLTIuNzQ2MSA1LjQwNDI5LC0yLjc0NjEgeiBtIDY3LjMxNDQ2LDAgYyAyLjU4OTQzLDAgNC40NDE3OSwxLjU0MzE1IDUuMzk2NDgsMi43NDYxIDAuOTU0NjksMS4yMDI5NSAxLjQ0MjUsMi4zNTc0MiAxLjg0NTcsMy41NTg1OSAwLjgwNjQxLDIuNDAyMzggMS4xNTgyMSw1LjA3NDkgMS4xNTgyMSw4LjAzMTI1IDAsMi45NTYzNSAtMC4zNTE3OSw1LjYzNjY4IC0xLjE1ODIxLDguMDM5MDYgLTAuNDAzMiwxLjIwMTIxIC0wLjg5MTAxLDIuMzQ3ODQgLTEuODQ1NywzLjU1MDc4IC0wLjk1NDY5LDEuMjAyOTUgLTIuODA3MDUsMi43NDYxIC01LjM5NjQ4LDIuNzQ2MSAtMi41ODk0MywwIC00LjQ0NzY2LC0xLjU0MzE1IC01LjQwMjM1LC0yLjc0NjEgLTAuOTU0NjgsLTEuMjAyOTQgLTEuNDM2NjMsLTIuMzQ5NTcgLTEuODM5ODQsLTMuNTUwNzggLTAuODA2NDEsLTIuNDAyMzggLTEuMTU4MiwtNS4wODI3MSAtMS4xNTgyLC04LjAzOTA2IDAsLTIuOTU2MzUgMC4zNTE3OCwtNS42Mjg4NyAxLjE1ODIsLTguMDMxMjUgMC40MDMyMSwtMS4yMDExNyAwLjg4NTE2LC0yLjM1NTY0IDEuODM5ODQsLTMuNTU4NTkgMC45NTQ2OSwtMS4yMDI5NSAyLjgxMjkyLC0yLjc0NjEgNS40MDIzNSwtMi43NDYxIHogbSAtNjAuNjcxODgsNDEuNzUxOTYgYyAwLjc1ODQsLTAuMDIwOSAxLjUwOTg5LDAuMTQ5MDUgMi4xODU1NSwwLjQ5NDE0IDAsMCA0LjIyMDQyLDIuMTUzNDIgOS41ODIwMyw0LjMwNDY4IDUuMzYxNjEsMi4xNTEyNCAxMi4wNTQ4OCw0LjEzNjYgMTUuMzY5MTQsNC4xMzI4MiAzLjI3MzUsLTAuMDA1IDkuOTA2MDcsLTEuOTkzNTkgMTUuMjEyODksLTQuMTQwNjMgNS4zMDY4MywtMi4xNDcwNyA5LjQ3ODUyLC00LjI4OTA2IDkuNDc4NTIsLTQuMjg5MDYgMy4wMTUyLC0xLjU0NzIzIDYuNTk5NjEsMC42NDIyNCA2LjU5OTYsNC4wMzEyNSAyZS01LDkuMzg4NzIgLTYuNTg5ODEsMTcuNTY1NDkgLTE2LjE1ODIsMjEuNzM4MjggLTkuNTY4MzgsNC4xNzI3OSAtMjAuOTQxMzgsNC4xNzI3OSAtMzAuNTA5NzYsMCAtOS41NjgzOSwtNC4xNzI3OSAtMTYuMTY2MDMsLTEyLjM0OTU2IC0xNi4xNjYwMiwtMjEuNzM4MjggLTAuMDAyLC0yLjQ1NTM0IDEuOTUxODQsLTQuNDY1NiA0LjQwNjI1LC00LjUzMzIgeiIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuMjY0NTgzMzMsMCwwLDAuMjY0NTgzMzMsMTcuNTE3MDA5LDU2LjAwNDM5NykiCiAgICAgICBpZD0icGF0aDgyMSIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc3Nzc3Nzc3Njc2NzY2NzY2NzY2NzY2Nzc3Njc2Njc2Njc2Njc2NjY2NjY2Nzc2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="},a74c:function(g,I,t){},cde7:function(g,I,t){"use strict";var M=t("a74c"),i=t.n(M);i.a}}]);